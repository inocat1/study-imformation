<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é«˜ä¸­åŒ–å­¸å…¨èƒ½ç‰¹è¨“</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* æ²¿ç”¨è‹±æ–‡ç‰ˆçš„ä¸»é¡Œè‰² (ç´«è‰²æ¼¸å±¤)ï¼Œä½†å¡ç‰‡å…§ä¿ç•™åŒ–å­¸ç¶  */
            --app-bg-start: #667eea;
            --app-bg-end: #764ba2;
            --primary: #0d9488; /* åŒ–å­¸ç¶  */
            --primary-light: #ccfbf1;
            --text: #1e293b;
            --gray: #64748b;
            --success: #059669;
            --error: #dc2626;
            --slot-bg: #e2e8f0;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: linear-gradient(135deg, var(--app-bg-start) 0%, var(--app-bg-end) 100%);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.98);
            min-height: 90vh;
            border-radius: 24px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* --- Header --- */
        header {
            text-align: center;
            padding: 20px;
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 50;
            border-bottom: 1px solid #e2e8f0;
        }
        .back-btn {
            position: absolute; left: 15px; top: 20px;
            background: #f1f5f9; border: none; padding: 6px 14px; border-radius: 20px;
            font-size: 0.9rem; color: var(--gray); font-weight: bold; cursor: pointer; text-decoration: none;
        }
        h1 { margin: 0; font-size: 1.5rem; color: #333; letter-spacing: 1px; }

        /* --- Tab åˆ‡æ› --- */
        .tab-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 15px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }
        .tab-btn {
            padding: 10px 24px;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            color: var(--gray);
            background: #e2e8f0;
            cursor: pointer;
            transition: 0.3s;
        }
        .tab-btn.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 10px rgba(13, 148, 136, 0.3);
        }

        /* --- å…§å®¹å€å¡Š --- */
        .view-section { display: none; padding: 20px; flex: 1; overflow-y: auto; }
        .view-section.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* --- [View 1] ç­†è¨˜æ¨¡å¼ --- */
        .note-card {
            background: #fff; border-radius: 12px; padding: 25px; margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-left: 5px solid var(--primary); border-top: 1px solid #f1f5f9;
        }
        h2 { color: #0f766e; margin-top: 0; margin-bottom: 20px; font-size: 1.3rem; border-bottom: 1px dashed #cbd5e1; padding-bottom: 10px; }
        
        table { width: 100%; border-collapse: collapse; font-size: 0.95rem; min-width: 600px; }
        .table-wrapper { overflow-x: auto; }
        th { background-color: var(--primary); color: white; padding: 12px; text-align: left; white-space: nowrap; }
        td { border-bottom: 1px solid #e2e8f0; padding: 12px; vertical-align: top; }
        tr:nth-child(even) { background-color: #f8fafc; }
        
        .formula { font-family: 'Courier New', monospace; background: #f3e8ff; padding: 2px 6px; border-radius: 4px; color: #7e22ce; font-weight: bold; }
        .highlight { color: #b45309; font-weight: bold; background: #fffbeb; padding: 0 3px; }
        
        /* æ¨™ç±¤ */
        .type { display: inline-block; padding: 2px 8px; border-radius: 10px; font-size: 0.8rem; color: white; margin-bottom: 5px; font-weight: bold; }
        .type-med { background: #ef4444; } .type-clean { background: #3b82f6; } 
        .type-poly { background: #8b5cf6; } .type-food { background: #10b981; } .type-energy { background: #f59e0b; }

        /* --- [View 2] æ¸¬é©—é¸å–® --- */
        .stats-panel {
            background: var(--primary); color: white; padding: 20px; border-radius: 16px;
            margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 5px 15px rgba(13, 148, 136, 0.3);
        }
        .chapter-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding-bottom: 80px; }
        .chapter-card {
            background: #f8fafc; border: 2px solid transparent; border-radius: 12px; padding: 15px;
            cursor: pointer; transition: 0.2s; position: relative; overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); min-height: 90px; display: flex; flex-direction: column; justify-content: center;
        }
        .chapter-card.selected { border-color: var(--primary); background-color: var(--primary-light); }
        .chapter-card.selected::after {
            content: 'âœ“'; position: absolute; top: 5px; right: 5px; background: var(--primary); color: white;
            border-radius: 50%; width: 20px; height: 20px; font-size: 12px; display: flex; align-items: center; justify-content: center;
        }
        .ch-title { font-weight: bold; font-size: 1.05rem; margin-bottom: 5px; color: #333; }
        .ch-count { font-size: 0.85rem; color: var(--gray); }

        /* åº•éƒ¨æ‡¸æµ®æŒ‰éˆ• */
        .bottom-dock {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: rgba(255, 255, 255, 0.9); padding: 15px 20px;
            border-top: 1px solid #e2e8f0; backdrop-filter: blur(5px);
            z-index: 100;
        }
        .start-btn {
            width: 100%; padding: 15px; border: none; border-radius: 30px;
            font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: 0.2s;
            background: var(--primary); color: white;
            box-shadow: 0 4px 10px rgba(13, 148, 136, 0.3);
        }
        .start-btn:disabled { background: #cbd5e1; box-shadow: none; cursor: not-allowed; }
        .start-btn:active { transform: scale(0.98); }

        /* --- æ¸¬é©—é€²è¡Œä¸­ --- */
        .quiz-status { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; color: var(--gray); font-size: 0.9rem; }
        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 4px; margin-bottom: 25px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: 0.3s; }
        
        .question-box {
            min-height: 180px; display: flex; flex-direction: column; justify-content: center; align-items: center;
            background: white; border-radius: 16px; padding: 25px; margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; border: 1px solid #f1f5f9;
        }
        .pre-text { font-size: 1.3rem; font-weight: 800; color: #333; line-height: 1.5; }
        
        /* é¸æ“‡é¡ŒæŒ‰éˆ• */
        .options-grid { display: grid; gap: 12px; }
        .opt-btn {
            background: white; border: 2px solid #e2e8f0; padding: 18px; border-radius: 12px;
            font-size: 1rem; text-align: left; cursor: pointer; transition: 0.2s; color: var(--text);
            font-weight: 500;
        }
        .opt-btn:active { background: #f1f5f9; }
        .opt-btn.correct { background: #dcfce7; border-color: var(--success); color: #166534; font-weight: bold; }
        .opt-btn.wrong { background: #fee2e2; border-color: var(--error); color: #991b1b; }

        /* å¡«ç©ºé¡Œæ¨£å¼ */
        .drop-slot {
            display: inline-flex; min-width: 80px; height: 36px; background: var(--slot-bg);
            border-bottom: 3px solid #94a3b8; border-radius: 6px; margin: 0 5px;
            vertical-align: middle; align-items: center; justify-content: center;
            color: #64748b; font-weight: bold; padding: 0 8px; font-size: 1rem;
        }
        .drop-slot.filled { background: transparent; border: none; border-bottom: 3px solid var(--primary); color: var(--primary); }
        .drop-slot.error { color: var(--error); border-bottom-color: var(--error); }
        
        .drag-pool { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 10px; }
        .drag-item {
            background: white; border: 2px solid var(--primary); color: var(--primary);
            padding: 8px 16px; border-radius: 20px; font-weight: bold; cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); font-size: 1rem;
        }

        /* è§£æèˆ‡å½ˆçª— */
        .feedback-box {
            display: none; background: #f0fdfa; padding: 20px; border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05); margin-top: 20px; text-align: left;
            border: 1px solid var(--primary); animation: slideUp 0.3s;
        }
        
        .modal-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5);
            display: none; justify-content: center; align-items: center; z-index: 100; backdrop-filter: blur(3px);
        }
        .modal {
            background: white; padding: 30px; border-radius: 20px; width: 85%; max-width: 350px;
            text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.2); animation: popIn 0.3s;
        }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .num-input {
            font-size: 2rem; padding: 10px; width: 100px; text-align: center;
            border: 2px solid #cbd5e1; border-radius: 12px; margin: 20px 0; color: var(--primary); font-weight: bold;
        }
        .modal-btns { display: flex; gap: 12px; margin-top: 20px; }

        /* çµæœé  */
        .result-box { text-align: center; background: white; padding: 40px; border-radius: 20px; margin-bottom: 20px; }
        .final-score { font-size: 4.5rem; font-weight: 800; color: var(--primary); line-height: 1; margin-bottom: 10px; }
        .mistake-card {
            background: white; padding: 15px; border-radius: 10px; border-left: 4px solid var(--error);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); margin-bottom: 10px; text-align: left;
        }

        /* SVG */
        .atom-c { fill: #333; font-weight:bold; font-family: Arial; font-size: 24px; text-anchor: middle; dominant-baseline: middle;}
        .atom-o { fill: #ef4444; font-weight:bold; font-family: Arial; font-size: 24px; text-anchor: middle; dominant-baseline: middle;}
        .atom-n { fill: #3b82f6; font-weight:bold; font-family: Arial; font-size: 24px; text-anchor: middle; dominant-baseline: middle;}
        .atom-h { fill: #666; font-weight:normal; font-family: Arial; font-size: 18px; text-anchor: middle; dominant-baseline: middle;}
        .bond { stroke: #333; stroke-width: 3; stroke-linecap: round; }
    </style>
</head>
<body>

<div class="container">
    
    <header>
        <a href="../index.html" class="back-btn">â† ç¸½éƒ¨</a>
        <h1>æœ‰æ©ŸåŒ–å­¸å…¨èƒ½ç‰¹è¨“</h1>
    </header>

    <!-- åˆ†é æŒ‰éˆ• -->
    <div class="tab-container">
        <button class="tab-btn active" onclick="switchView('note')">ğŸ“– ç­†è¨˜æ¨¡å¼</button>
        <button class="tab-btn" onclick="switchView('quiz')">ğŸ“ æ¸¬é©—å°ˆå€</button>
    </div>

    <!-- ==================== View 1: ç­†è¨˜æ¨¡å¼ ==================== -->
    <div id="view-note" class="view-section active">
        <!-- 1. åå¤§å®˜èƒ½åŸº -->
        <div class="note-card">
            <h2>ä¸€ã€æœ‰æ©Ÿå®˜èƒ½åŸºç¸½è¡¨</h2>
            <div class="table-wrapper">
                <table>
                    <thead><tr><th>å®¶æ—</th><th>å®˜èƒ½åŸº</th><th>é€šå¼</th><th>ä»£è¡¨åŒ–åˆç‰©</th><th>è€ƒè©¦è¨˜æ†¶é»</th></tr></thead>
                    <tbody>
                        <tr><td><strong>1. é†‡é¡</strong></td><td>-OH</td><td>R-OH</td><td><span class="formula">C<sub>2</sub>H<sub>5</sub>OH</span></td><td>æ˜“æº¶æ–¼æ°´ã€ä¸­æ€§ã€‚</td></tr>
                        <tr><td><strong>2. é†šé¡</strong></td><td>-O-</td><td>R-O-R'</td><td><span class="formula">CH<sub>3</sub>OCH<sub>3</sub></span></td><td>é†‡çš„åŒåˆ†ç•°æ§‹ç‰©ã€‚</td></tr>
                        <tr><td><strong>3. é†›é¡</strong></td><td>-CHO</td><td>R-CHO</td><td><span class="formula">HCHO</span></td><td><span class="highlight">æœ‰é‚„åŸåŠ›</span> (éŠ€é¡)ã€‚</td></tr>
                        <tr><td><strong>4. é…®é¡</strong></td><td>-CO-</td><td>R-CO-R'</td><td><span class="formula">CH<sub>3</sub>COCH<sub>3</sub></span></td><td>ç„¡é‚„åŸåŠ›ï¼Œæº¶åŠ‘ã€‚</td></tr>
                        <tr><td><strong>5. ç¾§é…¸</strong></td><td>-COOH</td><td>R-COOH</td><td><span class="formula">CH<sub>3</sub>COOH</span></td><td><span class="highlight">å¼±é…¸æ€§</span>ã€‚</td></tr>
                        <tr><td><strong>6. é…¯é¡</strong></td><td>-COO-</td><td>R-COO-R'</td><td>ä¹™é…¸ä¹™é…¯</td><td><span class="highlight">æ°´æœé¦™</span>ï¼Œé›£æº¶ã€‚</td></tr>
                        <tr><td><strong>7. èƒºé¡</strong></td><td>-NH<sub>2</sub></td><td>R-NH<sub>2</sub></td><td>è‹¯èƒº</td><td><span class="highlight">å¼±é¹¼æ€§</span>ï¼Œé­šè…¥ã€‚</td></tr>
                        <tr><td><strong>8. é†¯èƒº</strong></td><td>-CONH<sub>2</sub></td><td>R-CONH<sub>2</sub></td><td>ä¹™é†¯èƒº</td><td>ä¸­æ€§ï¼Œè‚½éµã€‚</td></tr>
                        <tr><td><strong>9. é…šé¡</strong></td><td>Ar-OH</td><td>C<sub>6</sub>H<sub>5</sub>OH</td><td>è‹¯é…š</td><td><span class="highlight">å¼±é…¸æ€§</span>ï¼Œæ°¯åŒ–éµç´«è‰²ã€‚</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 2. ç”Ÿæ´»åŒ–å­¸ -->
        <div class="note-card">
            <h2>äºŒã€ç”Ÿæ´»åŒ–å­¸ vs. çµæ§‹</h2>
            <div class="table-wrapper">
                <table>
                    <thead><tr><th>åˆ†é¡</th><th>åç¨±</th><th>çµæ§‹ç‰¹å¾µ</th><th>åŸç†èˆ‡è€ƒé»</th></tr></thead>
                    <tbody>
                        <tr><td><span class="type type-med">é†«è—¥</span></td><td><strong>é˜¿æ–¯åŒ¹éˆ</strong></td><td>ç¾§åŸº+é…¯åŸº</td><td>æ°´æ¥Šé…¸+ä¹™é…é…¯åŒ–ã€‚<span class="highlight">å‚·èƒƒ</span>ã€‚</td></tr>
                        <tr><td><span class="type type-clean">æ¸…æ½”</span></td><td><strong>è‚¥çš‚</strong></td><td>ç¾§é…¸é¹½</td><td>æ²¹è„‚çš‚åŒ–ã€‚<span class="highlight">æ€•ç¡¬æ°´</span>ã€‚</td></tr>
                        <tr><td><span class="type type-poly">èšåˆç‰©</span></td><td><strong>PET</strong></td><td>é…¯åŸº</td><td><span class="highlight">ç¸®åˆèšåˆ</span>ï¼Œå¯¶ç‰¹ç“¶ã€‚</td></tr>
                        <tr><td><span class="type type-poly">èšåˆç‰©</span></td><td><strong>è€ç¶¸</strong></td><td>é†¯èƒºåŸº</td><td><span class="highlight">ç¸®åˆèšåˆ</span>ï¼Œå«æ°®ã€‚</td></tr>
                        <tr><td><span class="type type-food">é£Ÿå“</span></td><td><strong>è‘¡è„ç³–</strong></td><td>å¤šç¾¥åŸºé†›</td><td>æœ‰é†›åŸºæ•…æœ‰<span class="highlight">é‚„åŸåŠ›</span>ã€‚</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ==================== View 2: æ¸¬é©—å°ˆå€ ==================== -->
    <div id="view-quiz" class="view-section">
        
        <!-- 1. æ¸¬é©—é¸å–® -->
        <div id="quiz-menu">
            <div class="stats-panel">
                <div style="font-size:0.9rem;">å·²é¸ <span id="selected-count" style="font-weight:bold; color:#ccfbf1; font-size:1.2rem;">0</span> å€‹å–®å…ƒ</div>
                <div style="font-size:0.9rem;">å…± <span id="total-selected-items" style="font-weight:bold; font-size:1.2rem;">0</span> é¡Œ</div>
            </div>

            <div class="chapter-grid" id="chapter-list">
                <!-- JS ç”Ÿæˆç« ç¯€ -->
            </div>

            <div class="bottom-dock">
                <button class="start-btn" id="btn-start-quiz" onclick="prepareQuiz()" disabled>ğŸ“ è¨­å®šé¡Œæ•¸ä¸¦é–‹å§‹</button>
            </div>
        </div>

        <!-- 2. æ¸¬é©—é€²è¡Œä¸­ -->
        <div id="quiz-play" style="display:none;">
            <div class="quiz-status">
                <span>é¡Œç›® <span id="pre-curr">1</span> / <span id="pre-total">10</span></span>
                <span>åˆ†æ•¸: <span id="score">0</span></span>
            </div>
            <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>

            <!-- é¡Œç›®å€å¡Š -->
            <div id="question-area"></div>

            <!-- é¸é …å€å¡Š (æœƒè®Šå‹•) -->
            <div id="answer-area"></div>

            <!-- è§£æå€å¡Š -->
            <div id="feedback" class="feedback-box">
                <div id="feedback-text" style="margin-bottom:15px; font-size:1rem; line-height:1.5;"></div>
                <button class="tab-btn active" style="width:100%" onclick="nextQuestion()">ä¸‹ä¸€é¡Œ â”</button>
            </div>

            <div style="text-align:center; margin-top:30px;">
                <button style="background:none; border:none; color:#64748b; font-weight:bold; cursor:pointer;" onclick="switchView('quiz')">
                    é€€å‡ºæ¸¬é©—
                </button>
            </div>
        </div>

        <!-- 3. çµæœé  -->
        <div id="quiz-result" style="display:none;">
            <div class="result-box">
                <div class="final-score" id="final-score">100</div>
                <div class="final-label">æ¸¬é©—å¾—åˆ†</div>
            </div>

            <button class="tab-btn active" onclick="retryQuiz()" style="width:100%; margin-bottom:15px;">å†æ¸¬ä¸€æ¬¡</button>
            <button class="tab-btn" onclick="switchView('quiz')" style="width:100%;">å›æ¸¬é©—é¸å–®</button>

            <div id="mistake-section" style="display:none; margin-top:30px;">
                <h3 style="color:var(--error); text-align:center; margin-bottom:15px;">âš ï¸ éœ€åŠ å¼·çš„è§€å¿µ</h3>
                <div id="mistake-list" class="mistake-list"></div>
            </div>
        </div>
    </div>

    <!-- å½ˆçª—ï¼šé¡Œæ•¸è¨­å®š -->
    <div id="quiz-settings-modal" class="modal-overlay">
        <div class="modal">
            <h3>è¨­å®šæ¸¬é©—é¡Œæ•¸</h3>
            <p style="color:#64748b; margin-bottom:0;">ç¯„åœç¸½é¡Œæ•¸ï¼š<span id="modal-total-items" style="color:#0d9488; font-weight:bold;">0</span></p>
            <input type="number" id="quiz-num-input" class="num-input" value="10" min="5">
            <div class="modal-btns">
                <button class="tab-btn" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="tab-btn active" onclick="confirmStartQuiz()">é–‹å§‹</button>
            </div>
        </div>
    </div>

</div>

<script>
    // ================= 1. è¶…ç´šæ“´å……è³‡æ–™åº« (130+ é¡Œ) =================
    
    const chemData = {
    "åŸºç¤å®˜èƒ½åŸº (50é¡Œ)": [
        // --- çµæ§‹åœ–å½¢é¡Œ (Image Choice) ---
        { type: 'image_choice', svg: `<svg viewBox="0 0 100 60"><line x1="10" y1="30" x2="40" y2="30" class="bond"/><text x="60" y="30" class="atom-o">O</text><text x="85" y="30" class="atom-h">H</text></svg>`, pre: "é€™å€‹ã€Œ-OHã€çµæ§‹å±¬æ–¼ä»€éº¼å®˜èƒ½åŸºï¼Ÿ", a: "ç¾¥åŸº", o: ["ç¾§åŸº", "ç¾¥åŸº", "é†›åŸº", "ç¾°åŸº"], exp: "é†‡é¡(R-OH)å’Œé…šé¡(Ar-OH)éƒ½æœ‰å®ƒã€‚" },
        { type: 'image_choice', svg: `<svg viewBox="0 0 120 80"><line x1="10" y1="40" x2="40" y2="40" class="bond"/><text x="55" y="40" class="atom-c">C</text><line x1="65" y1="25" x2="80" y2="10" class="bond"/><text x="90" y="10" class="atom-o">O</text><line x1="70" y1="30" x2="85" y2="15" class="bond"/><line x1="65" y1="50" x2="80" y2="65" class="bond"/><text x="90" y="70" class="atom-h">H</text></svg>`, pre: "ã€Œ-CHOã€æ˜¯å“ªç¨®å®˜èƒ½åŸºï¼Ÿ", a: "é†›åŸº", o: ["é…®åŸº", "ç¾§åŸº", "é†›åŸº", "é…¯åŸº"], exp: "é†›åŸºç‰¹å¾µæ˜¯ C=O é›™éµæœ«ç«¯æ¥ä¸€å€‹ Hï¼Œå…·æœ‰é‚„åŸåŠ›ã€‚" },
        { type: 'image_choice', svg: `<svg viewBox="0 0 120 80"><text x="20" y="40" class="atom-c">C</text><line x1="30" y1="40" x2="60" y2="40" class="bond"/><text x="75" y="40" class="atom-o">O</text><line x1="90" y1="40" x2="110" y2="40" class="bond"/><text x="120" y="40" class="atom-c">C</text></svg>`, pre: "ç¢³èˆ‡ç¢³ä¸­é–“å¤¾ä¸€å€‹æ°§ã€ŒC-O-Cã€ï¼Œé€™æ˜¯ï¼Ÿ", a: "é†šé¡", o: ["é…¯é¡", "é…®é¡", "é†šé¡", "é†‡é¡"], exp: "é†šé¡çµæ§‹è¼ƒç©©å®šï¼Œä¹™é†‡çš„åŒåˆ†ç•°æ§‹ç‰©ã€Œç”²é†šã€å³ç‚ºæ­¤é¡ã€‚" },
        { type: 'image_choice', svg: `<svg viewBox="0 0 140 80"><text x="20" y="40" class="atom-c">C</text><line x1="30" y1="25" x2="45" y2="10" class="bond"/><text x="55" y="10" class="atom-o">O</text><line x1="35" y1="30" x2="50" y2="15" class="bond"/><line x1="30" y1="50" x2="50" y2="50" class="bond"/><text x="65" y="50" class="atom-n">N</text><text x="85" y="50" class="atom-h">H</text><line x1="95" y1="50" x2="115" y2="50" class="bond"/></svg>`, pre: "ã€Œ-CONH-ã€çµæ§‹åœ¨è›‹ç™½è³ªä¸­è¢«ç¨±ç‚ºï¼Ÿ", a: "è‚½éµ", o: ["æ°«éµ", "é›¢å­éµ", "è‚½éµ", "é…¯éµ"], exp: "é€™æ˜¯é†¯èƒºåŸº (è‚½éµ)ï¼Œé€£æ¥èƒºåŸºé…¸å½¢æˆè›‹ç™½è³ªã€‚" },
        { type: 'image_choice', svg: `<svg viewBox="0 0 100 100"><polygon points="50,10 85,30 85,70 50,90 15,70 15,30" fill="none" stroke="#333" stroke-width="3"/><circle cx="50" cy="50" r="20" fill="none" stroke="#333" stroke-width="2"/></svg>`, pre: "å…­è§’å½¢å…§æœ‰åœ“åœˆçš„çµæ§‹æ˜¯ï¼Ÿ", a: "è‹¯ç’°", o: ["ç’°å·±çƒ·", "è‹¯ç’°", "è˜", "é…š"], exp: "è‹¯ç’°çµæ§‹éå¸¸ç©©å®šï¼Œæ˜¯èŠ³é¦™çƒ´çš„åŸºç¤ã€‚" },
        
        // --- å¡«ç©ºé¡Œ (Fill) ---
        { type: 'fill', pre: "çƒ·çƒ´çš„é€šå¼ç‚º", post: "ï¼Œå±¬æ–¼é£½å’Œçƒ´ã€‚", ans: "CnH2n+2", opts: ["CnH2n", "CnH2n-2", "CnHn"], exp: "çƒ·çƒ´æ˜¯é£½å’Œéˆç‹€çƒ´ï¼Œç¢³èˆ‡ç¢³ä¹‹é–“çš†ç‚ºå–®éµã€‚" },
        { type: 'fill', pre: "çƒ¯çƒ´å«æœ‰ç¢³ç¢³", post: "éµï¼Œå±¬æ–¼ä¸é£½å’Œçƒ´ã€‚", ans: "é›™", opts: ["å–®", "åƒ", "é›¢å­"], exp: "çƒ¯çƒ´ç‰¹å¾µæ˜¯å«æœ‰è‡³å°‘ä¸€å€‹ç¢³ç¢³é›™éµ ($C=C$)ã€‚" },
        { type: 'fill', pre: "ç‚”çƒ´å«æœ‰ç¢³ç¢³", post: "éµï¼Œåæ‡‰æ´»æ€§æ¯”çƒ·çƒ´å¤§ã€‚", ans: "åƒ", opts: ["é›™", "å–®", "æ°«"], exp: "ç‚”çƒ´ç‰¹å¾µæ˜¯å«æœ‰ç¢³ç¢³åƒéµ ($C\\equiv C$)ã€‚" },
        { type: 'fill', pre: "è‹¯ ($C_6H_6$) åˆ†å­ä¸­çš„ç¢³ç¢³éµçµé•·åº¦ä»‹æ–¼", post: "ä¹‹é–“ã€‚", ans: "å–®éµèˆ‡é›™éµ", opts: ["é›™éµèˆ‡åƒéµ", "å–®éµèˆ‡æ°«éµ", "é›¢å­éµèˆ‡å…±åƒ¹éµ"], exp: "è‹¯ç’°å…·æœ‰å…±æŒ¯çµæ§‹ï¼Œéµç´š 1.5ã€‚" },
        { type: 'fill', pre: "ç’°å·±çƒ· ($C_6H_{12}$) èˆ‡", post: "äº’ç‚ºåŒåˆ†ç•°æ§‹ç‰©ã€‚", ans: "2-å·±çƒ¯", opts: ["è‹¯", "æ­£å·±çƒ·", "å·±ç‚”"], exp: "ç’°çƒ·çƒ´çš„é€šå¼ ($C_nH_{2n}$) èˆ‡çƒ¯çƒ´ç›¸åŒã€‚" },
        { type: 'fill', pre: "ä¸€ç´šé†‡çš„çµæ§‹ç‰¹å¾µæ˜¯é€£æ¥ç¾¥åŸºçš„ç¢³åŸå­ä¸Šï¼Œé‚„æ¥äº†", post: "å€‹æ°«åŸå­ã€‚", ans: "2", opts: ["1", "0", "3"], exp: "ä¸€ç´šé†‡çµæ§‹ç‚º $R-CH_2-OH$ã€‚" },
        { type: 'fill', pre: "é†‡é¡å› åˆ†å­é–“å…·æœ‰", post: "ï¼Œæ•…æ²¸é»æ¯”åŒåˆ†å­é‡çš„çƒ·é¡é«˜ã€‚", ans: "æ°«éµ", opts: ["é›¢å­éµ", "é›™ç¡«éµ", "é‡‘å±¬éµ"], exp: "ç¾¥åŸº (-OH) ä¸Šçš„æ°«å¯å½¢æˆæ°«éµã€‚" },
        { type: 'fill', pre: "é†šé¡çš„é€šå¼ç‚º R-O-R'ï¼Œå…¶çµæ§‹èˆ‡", post: "åˆ†å­ç›¸ä¼¼ï¼Œå‘ˆè§’å½¢ã€‚", ans: "æ°´", opts: ["æ°¨", "ç”²çƒ·", "äºŒæ°§åŒ–ç¢³"], exp: "é†šçš„æ°§åŸå­æœ‰å…©å°å­¤å°é›»å­ï¼Œçµæ§‹å½æ›²ã€‚" },
        { type: 'fill', pre: "é†›åŸº (-CHO) å¿…å®šä½æ–¼ç¢³éˆçš„", post: "ã€‚", ans: "æœ«ç«¯", opts: ["ä¸­é–“", "æ”¯éˆ", "ç’°å…§"], exp: "é†›åŸºçš„ç¢³å¿…é ˆæ¥ä¸€å€‹æ°«ï¼Œå› æ­¤åªèƒ½ä½æ–¼æœ«ç«¯ã€‚" },
        { type: 'fill', pre: "é…®åŸº (C=O) å¿…å®šä½æ–¼ç¢³éˆçš„", post: "ã€‚", ans: "ä¸­é–“", opts: ["æœ«ç«¯", "æ”¯éˆ", "å¤–éƒ¨"], exp: "é…®åŸºçš„ç¢³å…©é‚Šéƒ½å¿…é ˆæ¥ç¢³åŸå­ã€‚" },
        { type: 'fill', pre: "ç¾§é…¸åˆ†å­é–“å¯å½¢æˆ", post: "ï¼Œæ•…æ²¸é»æ¥µé«˜ã€‚", ans: "äºŒèšé«”", opts: ["é›¢å­éµ", "ç¶²ç‹€çµæ§‹", "é‡‘å±¬éµ"], exp: "å…©å€‹ç¾§é…¸åˆ†å­é–“å½¢æˆé›™é‡æ°«éµã€‚" },
        { type: 'fill', pre: "èƒºé¡ (Amines) æ˜¯æ°¨ ($NH_3$) çš„è¡ç”Ÿç‰©ï¼Œæ°´æº¶æ¶²å‘ˆå¼±", post: "æ€§ã€‚", ans: "é¹¼", opts: ["é…¸", "ä¸­", "å…©"], exp: "æ°®åŸå­ä¸Šçš„å­¤å°é›»å­å¯æ¥å—è³ªå­ã€‚" },
        { type: 'fill', pre: "é†¯èƒºåŸº (-CONH-) å‘ˆ", post: "æ€§ï¼Œä¸èˆ‡é…¸é¹¼åæ‡‰ã€‚", ans: "ä¸­", opts: ["é…¸", "é¹¼", "å…©"], exp: "é†¯èƒºåŸºå…·å…±æŒ¯æ•ˆæ‡‰ï¼Œä¸å…·é¹¼æ€§ã€‚" },
        
        // --- æ–‡å­—é¸æ“‡é¡Œ (Text Choice) ---
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…å±¬æ–¼ä¸‰ç´šé†‡ï¼Ÿ", a: "2-ç”²åŸº-2-ä¸™é†‡", o: ["1-ä¸é†‡", "2-ä¸é†‡", "ä¹™é†‡"], exp: "ä¸­å¿ƒç¢³æ¥äº†ä¸‰å€‹ç”²åŸºå’Œä¸€å€‹ç¾¥åŸºã€‚" },
        { type: 'text_choice', pre: "ä¹™é†š ($C_2H_5OC_2H_5$) å¸¸ä½œç‚ºæœ‰æ©Ÿæº¶åŠ‘ï¼Œæ›¾è¢«ç”¨ä½œï¼Ÿ", a: "éº»é†‰åŠ‘", o: ["é˜²è…åŠ‘", "å‚¬åŒ–åŠ‘", "æŠ—ç”Ÿç´ "], exp: "ä¹™é†šæ²¸é»ä½ã€æ˜“æ®ç™¼ï¼Œæ—©æœŸç”¨ä½œå¸å…¥æ€§éº»é†‰åŠ‘ã€‚" },
        { type: 'text_choice', pre: "ä¸™é…®èˆ‡ä¸‹åˆ—ä½•è€…äº’ç‚ºå®˜èƒ½åŸºç•°æ§‹ç‰©ï¼Ÿ", a: "ä¸™é†›", o: ["ä¸™é†‡", "ä¸™é…¸", "ä¸™é†š"], exp: "é†›èˆ‡é…®é€šå¼çš†ç‚º $C_nH_{2n}O$ã€‚" },
        { type: 'text_choice', pre: "ç”²é…¸ ($HCOOH$) ä¿—ç¨±ï¼Ÿ", a: "èŸ»é…¸", o: ["é†‹é…¸", "è‰é…¸", "ä¹³é…¸"], exp: "ç”²é…¸æ˜¯èèŸ»å®å’¬åˆ†æ³Œçš„ç‰©è³ªã€‚" },
        { type: 'text_choice', pre: "ä¹™äºŒé…¸ ($H_2C_2O_4$) ä¿—ç¨±ï¼Ÿ", a: "è‰é…¸", o: ["èŸ»é…¸", "é†‹é…¸", "æ°´æ¥Šé…¸"], exp: "å¸¸è¦‹æ–¼è èœï¼Œå¯ç”¨æ–¼é™¤é½ã€‚" },
        { type: 'text_choice', pre: "é„°è‹¯äºŒç”²é…¸åŠ ç†±å®¹æ˜“è„«æ°´å½¢æˆï¼Ÿ", a: "é…", o: ["é…¯", "é†š", "é†‡"], exp: "å½¢æˆé„°è‹¯äºŒç”²é…¸é…ã€‚" },
        { type: 'text_choice', pre: "ä½ç´šé…¯é¡é€šå¸¸å…·æœ‰ä»€éº¼å‘³é“ï¼Ÿ", a: "æ°´æœé¦™", o: ["è…è‡­", "åˆºé¼»", "é­šè…¥"], exp: "å¸¸ç”¨æ–¼é¦™æ–™å·¥æ¥­ã€‚" },
        { type: 'text_choice', pre: "æ²¹è„‚åœ¨åŒ–å­¸çµæ§‹ä¸Šå±¬æ–¼ä»€éº¼é¡ï¼Ÿ", a: "é…¯", o: ["é…¸", "é†‡", "é†š"], exp: "æ²¹è„‚æ˜¯ä¸‰é…¸ç”˜æ²¹é…¯ã€‚" },
        { type: 'text_choice', pre: "è‹¯èƒº ($C_6H_5NH_2$) å¯æº¶æ–¼ä¸‹åˆ—ä½•è€…ï¼Ÿ", a: "é¹½é…¸", o: ["æ°«æ°§åŒ–éˆ‰", "é£Ÿé¹½æ°´", "æ°¨æ°´"], exp: "è‹¯èƒºæ˜¯é¹¼ï¼Œæº¶æ–¼é…¸ç”Ÿæˆé¹½é¡ã€‚" },
        { type: 'text_choice', pre: "å°¿ç´  ($H_2N-CO-NH_2$) å«æœ‰å¹¾å€‹é†¯èƒºåŸºçµæ§‹ï¼Ÿ", a: "2", o: ["1", "3", "0"], exp: "å°¿ç´ å¯è¦–ç‚ºç¢³é…¸çš„å…©å€‹ -OH è¢« -NH2 å–ä»£ã€‚" },
        { type: 'text_choice', pre: "è˜ ($C_{10}H_8$) çš„çµæ§‹ç‰¹å¾µæ˜¯ï¼Ÿ", a: "å…©å€‹è‹¯ç’°å…±ç”¨é‚Š", o: ["å…©å€‹è‹¯ç’°å–®éµç›¸é€£", "ä¸‰å€‹è‹¯ç’°å…±ç”¨é‚Š", "ä¸€å€‹è‹¯ç’°æ¥å…©å€‹ç”²åŸº"], exp: "ä¿—ç¨±ç„¦æ²¹è…¦ï¼Œæ˜“æ˜‡è¯ã€‚" },
        { type: 'text_choice', pre: "ç”²è‹¯ä¸Šçš„ç”²åŸºå—è‹¯ç’°å½±éŸ¿ï¼Œå®¹æ˜“è¢«ï¼Ÿ", a: "æ°§åŒ–", o: ["é‚„åŸ", "æ°´è§£", "èšåˆ"], exp: "é‡å¼·æ°§åŒ–åŠ‘æœƒè¢«æ°§åŒ–æˆè‹¯ç”²é…¸ã€‚" },
        { type: 'text_choice', pre: "ä¸‰ç¡åŸºç”²è‹¯ (TNT) æ˜¯ä¸€ç¨®ï¼Ÿ", a: "ç‚¸è—¥", o: ["æŸ“æ–™", "è—¥ç‰©", "å¡‘è† "], exp: "ç”²è‹¯ç¶“ç¡åŒ–åæ‡‰ç”Ÿæˆã€‚" },
        { type: 'text_choice', pre: "ä¹™é†‡èˆ‡ä¸‹åˆ—ä½•è€…äº’ç‚ºå®˜èƒ½åŸºç•°æ§‹ç‰©ï¼Ÿ", a: "ç”²é†š", o: ["ä¹™é†›", "ä¹™é…¸", "ä¹™çƒ·"], exp: "åˆ†å­å¼çš†ç‚º $C_2H_6O$ã€‚" },
        { type: 'text_choice', pre: "è‘¡è„ç³–åˆ†å­å«æœ‰5å€‹ç¾¥åŸºå’Œ1å€‹ï¼Ÿ", a: "é†›åŸº", o: ["é…®åŸº", "é…¸åŸº", "é…¯åŸº"], exp: "è‘¡è„ç³–æ˜¯å¤šç¾¥åŸºé†›ã€‚" },
        { type: 'text_choice', pre: "æœç³–åˆ†å­å«æœ‰5å€‹ç¾¥åŸºå’Œ1å€‹ï¼Ÿ", a: "é…®åŸº", o: ["é†›åŸº", "é…¸åŸº", "é†šåŸº"], exp: "æœç³–æ˜¯å¤šç¾¥åŸºé…®ã€‚" },
        { type: 'text_choice', pre: "èƒºåŸºé…¸åˆ†å­ä¸­åŒæ™‚å«æœ‰èƒºåŸºèˆ‡ï¼Ÿ", a: "ç¾§åŸº", o: ["é†›åŸº", "é…®åŸº", "é…¯åŸº"], exp: "å…·æœ‰å…©æ€§æ€§è³ªã€‚" },
        { type: 'text_choice', pre: "é †-2-ä¸çƒ¯èˆ‡å-2-ä¸çƒ¯äº’ç‚ºï¼Ÿ", a: "å¹¾ä½•ç•°æ§‹ç‰©", o: ["çµæ§‹ç•°æ§‹ç‰©", "ä½ç½®ç•°æ§‹ç‰©", "å®˜èƒ½åŸºç•°æ§‹ç‰©"], exp: "é›™éµç„¡æ³•æ—‹è½‰é€ æˆç«‹é«”ç•°æ§‹ã€‚" },
        { type: 'text_choice', pre: "æ­£æˆŠçƒ·ã€ç•°æˆŠçƒ·ã€æ–°æˆŠçƒ·äº’ç‚ºï¼Ÿ", a: "çµæ§‹ç•°æ§‹ç‰©", o: ["å¹¾ä½•ç•°æ§‹ç‰©", "ä½ç½®ç•°æ§‹ç‰©", "å®˜èƒ½åŸºç•°æ§‹ç‰©"], exp: "ç¢³éˆéª¨æ¶æ’åˆ—ä¸åŒã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…å…·æœ‰ã€Œå…‰å­¸ç•°æ§‹ç‰©ã€ï¼Ÿ", a: "2-ä¸é†‡", o: ["1-ä¸é†‡", "2-ç”²åŸº-2-ä¸™é†‡", "ä¹™é†‡"], exp: "2-ä¸é†‡æœ‰æ‰‹æ€§ç¢³ã€‚" },
        { type: 'text_choice', pre: "è¯è‹¯ (Biphenyl) æ˜¯ç”±å…©å€‹è‹¯ç’°ä»¥ä»€éº¼ç›¸é€£ï¼Ÿ", a: "å–®éµ", o: ["å…±ç”¨é‚Š", "é›™éµ", "æ°§åŸå­"], exp: "çµæ§‹ç‚º Ph-Phã€‚" },
        { type: 'text_choice', pre: "è‹¯é…šèˆ‡ä¹™é†‡ç›¸æ¯”ï¼Œè‹¯é…šçš„é…¸æ€§è¼ƒï¼Ÿ", a: "å¼·", o: ["å¼±", "ä¸€æ¨£", "ç„¡æ³•æ¯”è¼ƒ"], exp: "è‹¯ç’°å…±æŒ¯ç©©å®šè² é›¢å­ï¼Œä½¿ $H^+$ æ˜“è§£é›¢ã€‚" },
        { type: 'text_choice', pre: "åœ¨æ°´æº¶æ¶²ä¸­ï¼Œç”²èƒºçš„é¹¼æ€§æ¯”æ°¨ï¼Ÿ", a: "å¼·", o: ["å¼±", "ä¸€æ¨£", "ç„¡æ³•æ¯”è¼ƒ"], exp: "ç”²åŸºæ¨é›»å­ï¼Œå¢åŠ æ°®çš„é›»å­å¯†åº¦ã€‚" },
        { type: 'text_choice', pre: "ä¹™é†¯èƒº (Acetamide) æ˜¯ä»€éº¼ç‹€æ…‹çš„ç‰©è³ªï¼Ÿ", a: "å›ºæ…‹", o: ["æ¶²æ…‹", "æ°£æ…‹", "é›»æ¼¿æ…‹"], exp: "åˆ†å­é–“æ°«éµå¼·ï¼Œç†”é»é«˜ã€‚" },
        { type: 'text_choice', pre: "æ²¹è„‚çš„çµæ§‹ä¸­ï¼Œå«æœ‰å¹¾å€‹é…¯åŸºï¼Ÿ", a: "3", o: ["1", "2", "4"], exp: "ä¸‰é…¸ç”˜æ²¹é…¯ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…ä¸å«ç¾°åŸº (C=O)ï¼Ÿ", a: "ä¹™é†š", o: ["ä¹™é†›", "ä¸™é…®", "ä¹™é…¸"], exp: "é†šæ˜¯ C-O-Cã€‚" },
        { type: 'text_choice', pre: "é¹µçƒ· (R-X) çš„æ²¸é»éš¨é¹µç´ åŸå­åºå¢åŠ è€Œï¼Ÿ", a: "å‡é«˜", o: ["é™ä½", "ä¸è®Š", "å…ˆé™å¾Œå‡"], exp: "åˆ†å­é‡è¶Šå¤§ï¼Œå‡¡å¾—ç“¦åŠ›è¶Šå¼·ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…å¯å½¢æˆåˆ†å­å…§æ°«éµï¼Ÿ", a: "é„°-ç¡åŸºè‹¯é…š", o: ["å°-ç¡åŸºè‹¯é…š", "è‹¯é…š", "ç”²é†‡"], exp: "é„°ä½å®˜èƒ½åŸºè·é›¢è¿‘ã€‚" },
        { type: 'text_choice', pre: "æ­£çƒ·çƒ´çš„æ²¸é»éš¨è‘—ç¢³æ•¸å¢åŠ è€Œï¼Ÿ", a: "å‡é«˜", o: ["é™ä½", "ä¸è®Š", "ç„¡è¦å‰‡"], exp: "åˆ†å­é‡è¶Šå¤§ï¼Œæ²¸é»è¶Šé«˜ã€‚" },
        { type: 'text_choice', pre: "åŒç¢³æ•¸çƒ·çƒ´ä¸­ï¼Œæ”¯éˆè¶Šå¤šï¼Œæ²¸é»è¶Šï¼Ÿ", a: "ä½", o: ["é«˜", "ä¸è®Š", "ç„¡é—œ"], exp: "æ¥è§¸é¢ç©è®Šå°ï¼Œå‡¡å¾—ç“¦åŠ›è®Šå¼±ã€‚" },
        { type: 'text_choice', pre: "ä¹™ç‚”çš„ç¢³åŸå­æ··æˆè»ŒåŸŸç‚ºï¼Ÿ", a: "sp", o: ["sp2", "sp3", "dsp2"], exp: "ç›´ç·šå½¢çµæ§‹ã€‚" },
        { type: 'text_choice', pre: "ä¹™çƒ¯çš„ç¢³åŸå­æ··æˆè»ŒåŸŸç‚ºï¼Ÿ", a: "sp2", o: ["sp", "sp3", "dsp2"], exp: "å¹³é¢ä¸‰è§’å½¢çµæ§‹ã€‚" },
        { type: 'text_choice', pre: "è‹¯ç’°ä¸Šçš„ç¢³åŸå­æ··æˆè»ŒåŸŸç‚ºï¼Ÿ", a: "sp2", o: ["sp", "sp3", "sp3d"], exp: "å¹³é¢æ­£å…­é‚Šå½¢ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…é›£æº¶æ–¼æ°´ï¼Ÿ", a: "ä¹™é…¸ä¹™é…¯", o: ["ä¹™é…¸", "ä¹™é†‡", "ä¸™é…®"], exp: "é…¯é¡é›£æº¶æ–¼æ°´ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…æ˜“æº¶æ–¼æ°´ï¼Ÿ", a: "ä¹™èƒº", o: ["è‹¯èƒº", "ç¡åŸºè‹¯", "æ°¯è‹¯"], exp: "ä½ç´šèƒºå¯èˆ‡æ°´å½¢æˆæ°«éµã€‚" }
    ],

    "ç”Ÿæ´»èˆ‡ç’°å¢ƒ (50é¡Œ)": [
        // --- å¡«ç©ºé¡Œ (Fill) ---
        { type: 'fill', pre: "é˜¿æ–¯åŒ¹éˆæ˜¯ç”±æ°´æ¥Šé…¸èˆ‡", post: "åæ‡‰è£½æˆçš„ã€‚", ans: "ä¹™é…", opts: ["ä¹™é†‡", "ä¹™é…¸", "ç”²é†‡"], exp: "é˜¿æ–¯åŒ¹éˆæ˜¯ä¹™é†¯æ°´æ¥Šé…¸ã€‚" },
        { type: 'fill', pre: "ä¸‹åˆ—ä½•ç¨®èšåˆç‰©å«æœ‰ã€Œæ°®ã€å…ƒç´ ï¼Ÿ", ans: "è€ç¶¸", opts: ["èšä¹™çƒ¯", "å¯¶ç‰¹ç“¶", "PVC"], exp: "è€ç¶¸æ˜¯èšé†¯èƒºï¼Œå«è‚½éµã€‚" },
        { type: 'fill', pre: "è‚¥çš‚åœ¨ç¡¬æ°´ä¸­æœƒç”¢ç”Ÿ", post: "ï¼Œå°è‡´æ´—æ»Œæ•ˆæœè®Šå·®ã€‚", ans: "çš‚å¢", opts: ["æ³¡æ²«", "ç”˜æ²¹", "é…¸æ€§ç‰©è³ª"], exp: "è„‚è‚ªé…¸éˆ£/é‚æ²‰æ¾±ã€‚" },
        { type: 'fill', pre: "æª¢é©—å°¿æ¶²ä¸­çš„è‘¡è„ç³–ï¼Œå¯ä½¿ç”¨", post: "ã€‚", ans: "æ–æ—è©¦åŠ‘", opts: ["çŸ³è•Šè©¦ç´™", "ç¢˜æ¶²", "æ°¯åŒ–éµ"], exp: "è‘¡è„ç³–å…·é‚„åŸåŠ›ã€‚" },
        { type: 'fill', pre: "æ±½æ²¹çš„è¾›çƒ·å€¼æ˜¯ç”¨ä¾†è¡¨ç¤º", post: "èƒ½åŠ›ã€‚", ans: "æŠ—éœ‡çˆ†", opts: ["ç‡ƒç‡’", "æ½¤æ»‘", "æ®ç™¼"], exp: "ç•°è¾›çƒ·å®šç‚º100ã€‚" },
        { type: 'fill', pre: "PVC å¡‘è† ç‡ƒç‡’ä¸å®Œå…¨æ™‚ï¼Œå®¹æ˜“ç”¢ç”ŸåŠ‡æ¯’çš„", post: "ã€‚", ans: "æˆ´å¥§è¾›", opts: ["ç”²é†›", "ä¸€æ°§åŒ–ç¢³", "ä¸‰èšæ°°èƒº"], exp: "å«æ°¯å¡‘è† ç‡ƒç‡’æ˜“ç”Ÿæˆ´å¥§è¾›ã€‚" },
        { type: 'fill', pre: "ä¿éº—é¾ (PS) é‡åˆ°", post: "æœƒè¢«æº¶è§£ã€‚", ans: "ç”²è‹¯", opts: ["æ°´", "é…’ç²¾", "é†‹é…¸"], exp: "ä¿éº—é¾å«è‹¯ç’°ï¼Œæœ‰æ©Ÿæº¶åŠ‘å¯æº¶ã€‚" },
        { type: 'fill', pre: "å·¥æ¥­é…’ç²¾ä¸­å¸¸æ·»åŠ ", post: "ï¼Œèª¤é£Ÿæœƒå°è‡´å¤±æ˜ã€‚", ans: "ç”²é†‡", opts: ["ä¹™é†‡", "ä¸™é…®", "ä¹™é…¸"], exp: "ç”²é†‡ä»£è¬ç”¢ç”Ÿç”²é…¸æ¯’å®³è¦–ç¥ç¶“ã€‚" },
        { type: 'fill', pre: "å±¬æ–¼ç†±å›ºæ€§èšåˆç‰©ï¼ŒåŠ ç†±ä¸æœƒè»ŸåŒ–çš„æ˜¯", post: "ã€‚", ans: "é›»æœ¨", opts: ["ä¿ç‰¹ç“¶", "èšä¹™çƒ¯", "ä¿éº—é¾"], exp: "é›»æœ¨æ˜¯ç¶²ç‹€çµæ§‹ã€‚" },
        { type: 'fill', pre: "æ²¹è„‚èˆ‡å¼·é¹¼å…±ç†±ç”¢ç”Ÿè‚¥çš‚èˆ‡ç”˜æ²¹çš„åæ‡‰ç¨±ç‚º", post: "åæ‡‰ã€‚", ans: "çš‚åŒ–", opts: ["é…¯åŒ–", "ä¸­å’Œ", "èšåˆ"], exp: "æ²¹è„‚æ°´è§£è£½çš‚ã€‚" },
        { type: 'fill', pre: "èƒƒè—¥ä¸­è‹¥å«æœ‰", post: "æˆåˆ†ï¼Œå®¹æ˜“å¼•èµ·ä¾¿ç§˜ã€‚", ans: "æ°«æ°§åŒ–é‹", opts: ["æ°«æ°§åŒ–é‚", "ç¢³é…¸éˆ£", "ç¢³é…¸æ°«éˆ‰"], exp: "é‹é¹½æ˜“ä¾¿ç§˜ï¼Œé‚é¹½æ˜“è…¹ç€‰ã€‚" },
        { type: 'fill', pre: "ç›¤å°¼è¥¿æ—æŠ—èŒåŸç†æ˜¯ç ´å£ç´°èŒçš„", post: "åˆæˆã€‚", ans: "ç´°èƒå£", opts: ["ç´°èƒè†œ", "ç´°èƒæ ¸", "è›‹ç™½è³ª"], exp: "ä½¿ç´°èŒç ´è£‚æ­»äº¡ã€‚" },
        { type: 'fill', pre: "ç¡¬æ€§æ¸…æ½”åŠ‘å› å«æœ‰", post: "çµæ§‹ï¼Œé›£ä»¥åˆ†è§£ã€‚", ans: "æ”¯éˆçƒ·åŸº", opts: ["ç›´éˆçƒ·åŸº", "è‹¯ç’°", "ç£ºé…¸åŸº"], exp: "æ”¯éˆé˜»ç¤™é…µç´ åˆ†è§£ã€‚" },
        { type: 'fill', pre: "æ¸…æ½”åŠ‘ä¸­è‹¥æ·»åŠ ", post: "ï¼Œæ˜“é€ æˆå„ªé¤ŠåŒ–ã€‚", ans: "ç£·é…¸é¹½", opts: ["ç¢³é…¸é¹½", "ç¡«é…¸é¹½", "çŸ½é…¸é¹½"], exp: "ç£·æ˜¯è—»é¡ç‡Ÿé¤Šæºã€‚" },
        { type: 'fill', pre: "å¤©ç„¶æ©¡è† çš„å–®é«”æ˜¯", post: "ã€‚", ans: "ç•°æˆŠäºŒçƒ¯", opts: ["æ°¯ä¸äºŒçƒ¯", "ä¹™çƒ¯", "è‹¯ä¹™çƒ¯"], exp: "èšç•°æˆŠäºŒçƒ¯ã€‚" },
        { type: 'fill', pre: "æ©¡è† åŠ å…¥", post: "é€²è¡Œç¡«åŒ–ï¼Œå¯å¢åŠ å½ˆæ€§ã€‚", ans: "ç¡«", opts: ["ç¢³", "ç£·", "æ°¯"], exp: "å½¢æˆé›™ç¡«éµäº¤è¯ã€‚" },
        { type: 'fill', pre: "å›æ”¶æ¨™èªŒ 1 è™Ÿçš„å¡‘è† æ˜¯", post: "ã€‚", ans: "PET", opts: ["HDPE", "PVC", "PP"], exp: "å¯¶ç‰¹ç“¶æè³ªã€‚" },
        { type: 'fill', pre: "å›æ”¶æ¨™èªŒ 5 è™Ÿçš„å¡‘è† æ˜¯", post: "ï¼Œè€é«˜æº«ã€‚", ans: "PP", opts: ["PS", "PE", "PVC"], exp: "èšä¸™çƒ¯è€ç†±æ€§ä½³ã€‚" },
        { type: 'fill', pre: "è‘¡è„ç³–èˆ‡æœç³–äº’ç‚º", post: "ã€‚", ans: "åŒåˆ†ç•°æ§‹ç‰©", opts: ["åŒä½ç´ ", "åŒç´ ç•°å½¢é«”", "èšåˆç‰©"], exp: "åˆ†å­å¼çš†ç‚º C6H12O6ã€‚" },
        { type: 'fill', pre: "æ¾±ç²‰èˆ‡çº–ç¶­ç´ éƒ½æ˜¯", post: "çš„èšåˆç‰©ã€‚", ans: "è‘¡è„ç³–", opts: ["æœç³–", "è”—ç³–", "èƒºåŸºé…¸"], exp: "é€£æ¥æ–¹å¼ä¸åŒ ($\alpha$ vs $\beta$)ã€‚" },
        { type: 'fill', pre: "æª¢é©—æ¾±ç²‰å¯ä½¿ç”¨", post: "ï¼Œå‘ˆç¾è—é»‘è‰²ã€‚", ans: "ç¢˜æ¶²", opts: ["æ–æ—è©¦åŠ‘", "æœ¬æ°æ¶²", "æº´æ°´"], exp: "ç¢˜åµŒå…¥æ¾±ç²‰èºæ—‹ã€‚" },
        { type: 'fill', pre: "è›‹ç™½è³ªçš„ä¸€ç´šçµæ§‹æ˜¯æŒ‡", post: "çš„æ’åˆ—é †åºã€‚", ans: "èƒºåŸºé…¸", opts: ["æ ¸è‹·é…¸", "è‘¡è„ç³–", "è„‚è‚ªé…¸"], exp: "åºåˆ—æ±ºå®šåŠŸèƒ½ã€‚" },
        { type: 'fill', pre: "DNA ä¸­çš„é¹¼åŸº A ç¸½æ˜¯èˆ‡", post: "é…å°ã€‚", ans: "T", opts: ["C", "G", "U"], exp: "A-T, C-Gã€‚" },
        { type: 'fill', pre: "RNA ä¸­å–ä»£ DNA ä¹‹ T çš„é¹¼åŸºæ˜¯", post: "ã€‚", ans: "U", opts: ["A", "C", "G"], exp: "å°¿å˜§å•¶ (Uracil)ã€‚" },
        { type: 'fill', pre: "é€ æˆè‡­æ°§å±¤ç ´æ´çš„ä¸»å› æ˜¯", post: "ã€‚", ans: "æ°Ÿæ°¯ç¢³åŒ–ç‰©", opts: ["ç”²çƒ·", "äºŒæ°§åŒ–ç¢³", "æ°®æ°§åŒ–ç‰©"], exp: "CFCs åˆ†è§£å‡ºæ°¯åŸå­ç ´å£è‡­æ°§ã€‚" },
        { type: 'fill', pre: "PM2.5 æ˜¯æŒ‡ç²’å¾‘å°æ–¼", post: "çš„æ‡¸æµ®å¾®ç²’ã€‚", ans: "2.5 å¾®ç±³", opts: ["2.5 å¥ˆç±³", "2.5 æ¯«ç±³", "2.5 å…¬åˆ†"], exp: "å¯é€²å…¥è‚ºæ³¡ã€‚" },
        { type: 'fill', pre: "è¶…è‡¨ç•Œæµé«”äºŒæ°§åŒ–ç¢³å¸¸ç”¨æ–¼èƒå–", post: "ã€‚", ans: "å’–å•¡å› ", opts: ["è›‹ç™½è³ª", "æ¾±ç²‰", "çº–ç¶­ç´ "], exp: "è£½é€ ä½å’–å•¡å› å’–å•¡ã€‚" },
        { type: 'fill', pre: "ç”Ÿè³ªæŸ´æ²¹çš„ä¸»è¦æˆåˆ†æ˜¯", post: "ã€‚", ans: "è„‚è‚ªé…¸ç”²é…¯", opts: ["çƒ·é¡", "é†‡é¡", "é†šé¡"], exp: "æ²¹è„‚è½‰é…¯åŒ–è£½å¾—ã€‚" },
        { type: 'fill', pre: "å¥ˆç±³ææ–™æ˜¯æŒ‡é¡†ç²’å¤§å°åœ¨", post: "ç¯„åœå…§ã€‚", ans: "1~100 nm", opts: ["1~100 um", "1~100 mm", "1~100 A"], exp: "å¥ˆç±³å°ºåº¦ã€‚" },
        { type: 'fill', pre: "è“®è‘‰æ•ˆæ‡‰æ˜¯å› ç‚ºè‘‰é¢å…·æœ‰", post: "çµæ§‹ã€‚", ans: "å¥ˆç±³å‡¸èµ·", opts: ["è¦ªæ°´æ€§", "å¹³æ»‘", "å¸¶é›»"], exp: "é€ æˆè¶…ç–æ°´æ€§ã€‚" },
        
        // --- æ–‡å­—é¸æ“‡é¡Œ (Text Choice) ---
        { type: 'text_choice', pre: "ç£ºèƒºè—¥ (Sulfa drugs) æ˜¯ä»€éº¼é¡å‹çš„è—¥ç‰©ï¼Ÿ", a: "æŠ—èŒè—¥", o: ["æŠ—ç™Œè—¥", "æ­¢ç—›è—¥", "æŠ—ç—…æ¯’è—¥"], exp: "äººå·¥åˆæˆçš„æŠ—èŒåŠ‘ã€‚" },
        { type: 'text_choice', pre: "èŒ¶é¹¼ (Theophylline) å¸¸ç”¨æ–¼æ²»ç™‚ï¼Ÿ", a: "æ°£å–˜", o: ["é ­ç—›", "èƒƒæ½°ç˜", "é«˜è¡€å£“"], exp: "é¬†å¼›æ”¯æ°£ç®¡ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…æ˜¯ã€Œç¸®åˆèšåˆã€çš„ç”¢ç‰©ï¼Ÿ", a: "èšé…¯ (PET)", o: ["èšä¹™çƒ¯ (PE)", "èšä¸™çƒ¯ (PP)", "èšæ°¯ä¹™çƒ¯ (PVC)"], exp: "å…¶ä»–ç‚ºåŠ æˆèšåˆã€‚" },
        { type: 'text_choice', pre: "å–®é†£ (å¦‚è‘¡è„ç³–) å±¬æ–¼å“ªç¨®é†£ï¼Ÿ", a: "é‚„åŸé†£", o: ["éé‚„åŸé†£", "å¤šé†£", "å¯¡é†£"], exp: "å…·é‚„åŸåŠ›ã€‚" },
        { type: 'text_choice', pre: "è”—ç³–æ°´è§£å¾Œæœƒç”¢ç”Ÿï¼Ÿ", a: "è‘¡è„ç³–+æœç³–", o: ["2è‘¡è„ç³–", "è‘¡è„ç³–+åŠä¹³ç³–", "2æœç³–"], exp: "è”—ç³–æ˜¯é›™é†£ã€‚" },
        { type: 'text_choice', pre: "èŒ¶èˆ‡å’–å•¡ä¸­çš„æç¥æˆåˆ†æ˜¯ï¼Ÿ", a: "å’–å•¡å› ", o: ["å°¼å¤ä¸", "é˜¿æ–¯åŒ¹éˆ", "å—å•¡"], exp: "ç”Ÿç‰©é¹¼ã€‚" },
        { type: 'text_choice', pre: "æ°´ä¿ç—…æ˜¯å› ç‚ºå“ªç¨®é‡é‡‘å±¬æ±™æŸ“ï¼Ÿ", a: "æ±", o: ["é˜", "é‰›", "ç ·"], exp: "æœ‰æ©Ÿæ±ä¸­æ¯’ã€‚" },
        { type: 'text_choice', pre: "ç—›ç—›ç—…æ˜¯å› ç‚ºå“ªç¨®é‡é‡‘å±¬æ±™æŸ“ï¼Ÿ", a: "é˜", o: ["æ±", "éŠ…", "é‰»"], exp: "é˜é€ æˆéª¨éª¼ç—…è®Šã€‚" },
        { type: 'text_choice', pre: "é‰›è“„é›»æ± æ”¾é›»æ™‚ï¼Œæ­£è² æ¥µéƒ½æœƒè®Šæˆï¼Ÿ", a: "ç¡«é…¸é‰›", o: ["äºŒæ°§åŒ–é‰›", "é‰›", "æ°§åŒ–é‰›"], exp: "PbSO4 æ²‰æ¾±ã€‚" },
        { type: 'text_choice', pre: "é£Ÿå“åŒ…è£ä¸­å¸¸å……å…¥ä»€éº¼æ°£é«”ä¿é®®ï¼Ÿ", a: "æ°®æ°£", o: ["æ°§æ°£", "æ°«æ°£", "æ°¯æ°£"], exp: "æ°®æ°£å®‰å®šæŠ—æ°§åŒ–ã€‚" },
        { type: 'text_choice', pre: "æ¼‚ç™½æ°´ä¸å¯èˆ‡ä»€éº¼æ··åˆï¼Œå¦å‰‡ç”¢ç”Ÿæ¯’æ°£ï¼Ÿ", a: "é…¸", o: ["é¹¼", "é£Ÿé¹½æ°´", "é…’ç²¾"], exp: "ç”¢ç”Ÿæ°¯æ°£ (Cl2)ã€‚" },
        { type: 'text_choice', pre: "æ™®æ‹¿ç–¼å«æœ‰å“ªç¨®å®˜èƒ½åŸºï¼Ÿ", a: "é†¯èƒºåŸº", o: ["é…¯åŸº", "ç¾§åŸº", "é†šåŸº"], exp: "ä¹™é†¯èƒºé…šã€‚" },
        { type: 'text_choice', pre: "ä¸æ²¾é‹å¡—å±¤éµæ°Ÿé¾æ˜¯å“ªé¡èšåˆç‰©ï¼Ÿ", a: "åŠ æˆèšåˆç‰©", o: ["ç¸®åˆèšåˆç‰©", "å¤©ç„¶èšåˆç‰©", "ç†±å›ºæ€§"], exp: "èšå››æ°Ÿä¹™çƒ¯ã€‚" },
        { type: 'text_choice', pre: "ç”Ÿç‰©ç™¼é…µå°‡è‘¡è„ç³–è½‰åŒ–ç‚ºï¼Ÿ", a: "ä¹™é†‡+CO2", o: ["ç”²é†‡", "ä¹™é…¸", "ä¹³é…¸+O2"], exp: "é…’ç²¾ç™¼é…µã€‚" },
        { type: 'text_choice', pre: "åŸå­ç¶“æ¿Ÿæ€§ 100% çš„åæ‡‰æ˜¯ï¼Ÿ", a: "åŠ æˆåæ‡‰", o: ["å–ä»£åæ‡‰", "æ¶ˆå»åæ‡‰", "é…¯åŒ–åæ‡‰"], exp: "ç„¡å»¢æ–™ç”¢ç”Ÿã€‚" },
        { type: 'text_choice', pre: "æ”¾å°„æ€§å…ƒç´ ã€Œé³ã€åŒ–å­¸æ€§è³ªé¡ä¼¼ï¼Ÿ", a: "é‹‡", o: ["éµ", "éˆ¾", "ç¢³"], exp: "åŒæ—å…ƒç´ ã€‚" },
        { type: 'text_choice', pre: "è›‹ç™½è³ªè®Šæ€§é€šå¸¸æ˜¯ä¸å¯é€†çš„ï¼Œä¾‹å¦‚ï¼Ÿ", a: "ç…®ç†Ÿé›è›‹", o: ["æº¶è§£é¹½", "å†°å‡æ°´", "ç³–æº¶æ–¼æ°´"], exp: "çµæ§‹ç ´å£ã€‚" },
        { type: 'text_choice', pre: "å…‰åŒ–å­¸ç…™éœ§çš„ä¸»è¦æˆåˆ†åŒ…å«ï¼Ÿ", a: "è‡­æ°§", o: ["ç¡«é…¸", "ç¢³é…¸", "æ°¨æ°£"], exp: "äºŒæ¬¡æ±™æŸ“ç‰©ã€‚" },
        { type: 'text_choice', pre: "æº«å®¤æ•ˆæ‡‰è²¢ç»æœ€å¤§çš„æ°£é«”æ˜¯ï¼Ÿ", a: "æ°´è’¸æ°£", o: ["äºŒæ°§åŒ–ç¢³", "ç”²çƒ·", "è‡­æ°§"], exp: "è‡ªç„¶ç•Œä¸­æ°´æ°£æœ€å¤šã€‚" },
        { type: 'text_choice', pre: "èƒƒè—¥ä¸­å«æœ‰ç¢³é…¸æ°«éˆ‰å®¹æ˜“å°è‡´ï¼Ÿ", a: "è„¹æ°£", o: ["è…¹ç€‰", "ä¾¿ç§˜", "é ­ç—›"], exp: "ç”¢ç”Ÿ CO2ã€‚" }
    ],

    "é€²éšæœ‰æ©Ÿåæ‡‰ (50é¡Œ)": [
        // --- å¡«ç©ºé¡Œ (Fill) ---
        { type: 'fill', pre: "ä¸€ç´šé†‡æ°§åŒ–å¾Œå…ˆè®Šé†›ï¼Œè‹¥è¦åœæ­¢åœ¨é†›ï¼Œéœ€ç”¨", post: "ã€‚", ans: "PCC", opts: ["KMnO4", "K2Cr2O7", "H2O2"], exp: "æº«å’Œæ°§åŒ–åŠ‘ã€‚" },
        { type: 'fill', pre: "äºŒç´šé†‡æ°§åŒ–æœƒç”Ÿæˆ", post: "ï¼Œä¸”ç„¡æ³•ç¹¼çºŒæ°§åŒ–ã€‚", ans: "é…®", opts: ["é†›", "é…¸", "é†š"], exp: "è„«æ°«æˆé…®ã€‚" },
        { type: 'fill', pre: "ä¸‰ç´šé†‡", post: "è¢«ééŒ³é…¸é‰€æ°§åŒ–ã€‚", ans: "ä¸èƒ½", opts: ["å®¹æ˜“", "ç·©æ…¢", "è¿…é€Ÿ"], exp: "ç„¡ alpha-æ°«ã€‚" },
        { type: 'fill', pre: "å¤šå€«è©¦åŠ‘å«", post: "éŒ¯é›¢å­ï¼Œé‡é†›ç”¢ç”ŸéŠ€é¡ã€‚", ans: "éŠ€æ°¨", opts: ["éŠ…æ°¨", "é‹…æ°¨", "éµæ°¨"], exp: "éŠ€é¡åæ‡‰ã€‚" },
        { type: 'fill', pre: "æ–æ—è©¦åŠ‘å«", post: "é›¢å­ï¼Œé‡é†›ç”¢ç”Ÿç´…è‰²æ²‰æ¾±ã€‚", ans: "éŠ…", opts: ["éŠ€", "éµ", "é‚"], exp: "é‚„åŸæˆæ°§åŒ–äºéŠ…ã€‚" },
        { type: 'fill', pre: "ç›§å¡æ–¯è©¦åŠ‘ç”¨ä¾†åˆ†è¾¨", post: "é¡ã€‚", ans: "é†‡", opts: ["é†›", "é…¸", "èƒº"], exp: "ä¸‰ç´šé†‡åæ‡‰æœ€å¿«ã€‚" },
        { type: 'fill', pre: "æª¢é©—ç¢³ç¢³é›™éµå¯ä½¿ç”¨", post: "ï¼Œæœƒè¤ªè‰²ã€‚", ans: "æº´æ°´", opts: ["çŸ³è•Š", "é…šé…", "ç¢˜æ¶²"], exp: "åŠ æˆåæ‡‰ã€‚" },
        { type: 'fill', pre: "æ‹œè€³è©¦é©—ä½¿ç”¨", post: "ï¼Œé‡é›™éµç”¢ç”Ÿè¤è‰²æ²‰æ¾±ã€‚", ans: "å†·ç¨€KMnO4", opts: ["ç†±æ¿ƒKMnO4", "K2Cr2O7", "H2O2"], exp: "æ°§åŒ–æˆäºŒå…ƒé†‡ã€‚" },
        { type: 'fill', pre: "çƒ¯çƒ´èˆ‡æ°´åœ¨é…¸å‚¬åŒ–ä¸‹ç”Ÿæˆé†‡ï¼Œæ˜¯", post: "åæ‡‰ã€‚", ans: "åŠ æˆ", opts: ["å–ä»£", "æ¶ˆå»", "ç¸®åˆ"], exp: "æ°´åˆåæ‡‰ã€‚" },
        { type: 'fill', pre: "é¹µä»£çƒ´èˆ‡æ°«æ°§åŒ–éˆ‰æ°´æº¶æ¶²å…±ç†±ç™¼ç”Ÿ", post: "åæ‡‰ã€‚", ans: "å–ä»£", opts: ["åŠ æˆ", "æ¶ˆå»", "é…¯åŒ–"], exp: "ç”Ÿæˆé†‡ã€‚" },
        { type: 'fill', pre: "ä¹™é†‡åœ¨ 170Â°C æ¿ƒç¡«é…¸ä¸‹è„«æ°´ç”Ÿæˆ", post: "ã€‚", ans: "ä¹™çƒ¯", opts: ["ä¹™é†š", "ä¹™çƒ·", "ä¹™ç‚”"], exp: "åˆ†å­å…§è„«æ°´ã€‚" },
        { type: 'fill', pre: "ä¹™é†‡åœ¨ 140Â°C æ¿ƒç¡«é…¸ä¸‹è„«æ°´ç”Ÿæˆ", post: "ã€‚", ans: "ä¹™é†š", opts: ["ä¹™çƒ¯", "ä¹™çƒ·", "ä¹™ç‚”"], exp: "åˆ†å­é–“è„«æ°´ã€‚" },
        { type: 'fill', pre: "è‹¯èˆ‡æ¿ƒç¡é…¸/ç¡«é…¸å…±ç†±ç™¼ç”Ÿ", post: "åæ‡‰ã€‚", ans: "å–ä»£", opts: ["åŠ æˆ", "æ¶ˆå»", "ä¸­å’Œ"], exp: "ç¡åŒ–åæ‡‰ã€‚" },
        { type: 'fill', pre: "ç”²è‹¯æ°§åŒ–æœƒç”Ÿæˆ", post: "ã€‚", ans: "è‹¯ç”²é…¸", opts: ["è‹¯é…š", "è‹¯ç”²é†‡", "è‹¯ä¹™é…¸"], exp: "çƒ·åŸºè‹¯æ°§åŒ–ã€‚" },
        { type: 'fill', pre: "é…¯åŒ–åæ‡‰å¸¸åŠ å…¥", post: "ä½œå‚¬åŒ–åŠ‘ã€‚", ans: "æ¿ƒç¡«é…¸", opts: ["æ¿ƒé¹½é…¸", "æ¿ƒç¡é…¸", "æ°«æ°§åŒ–éˆ‰"], exp: "è„«æ°´åŠ‘ã€‚" },
        { type: 'fill', pre: "çš‚åŒ–åæ‡‰æ˜¯é…¯åœ¨", post: "ç’°å¢ƒä¸‹æ°´è§£ã€‚", ans: "é¹¼æ€§", opts: ["é…¸æ€§", "ä¸­æ€§", "é«˜æº«"], exp: "ä¸å¯é€†åæ‡‰ã€‚" },
        { type: 'fill', pre: "é†¯èƒºæ°´è§£æœƒç”¢ç”Ÿ", post: "èˆ‡èƒºã€‚", ans: "ç¾§é…¸", opts: ["é†‡", "é†›", "é…®"], exp: "é…¸é¹¼å‚¬åŒ–çš†å¯ã€‚" },
        { type: 'fill', pre: "ä¹™ç‚”é€šéç†±çŸ³è‹±ç®¡èšåˆç”Ÿæˆ", post: "ã€‚", ans: "è‹¯", opts: ["ç’°å·±çƒ·", "å·±çƒ¯", "èšä¹™ç‚”"], exp: "ä¸‰èšåæ‡‰ã€‚" },
        { type: 'fill', pre: "ä¹™ç‚”æ°´åˆå…ˆç”Ÿæˆçƒ¯é†‡ï¼Œå†ç•°æ§‹ç‚º", post: "ã€‚", ans: "ä¹™é†›", opts: ["ä¹™é†‡", "ä¹™é…¸", "ä¹™é†š"], exp: "äº’è®Šç•°æ§‹ã€‚" },
        { type: 'fill', pre: "æ¾±ç²‰æ°´è§£éœ€", post: "ä½œå‚¬åŒ–åŠ‘ã€‚", ans: "é…¸æˆ–é…¶", opts: ["é¹¼", "æ°§åŒ–åŠ‘", "é‚„åŸåŠ‘"], exp: "æ–·ç³–è‹·éµã€‚" },
        { type: 'fill', pre: "é»ƒè›‹ç™½åæ‡‰æ˜¯æª¢é©—", post: "ã€‚", ans: "è‹¯ç’°èƒºåŸºé…¸", opts: ["è„‚è‚ªé…¸", "æ¾±ç²‰", "DNA"], exp: "é‡æ¿ƒç¡é…¸è®Šé»ƒã€‚" },
        { type: 'fill', pre: "é›™ç¸®è„²è©¦åŠ‘æª¢é©—", post: "ï¼Œå‘ˆç´«è‰²ã€‚", ans: "è‚½éµ", opts: ["æ°«éµ", "é›™ç¡«éµ", "é…¯éµ"], exp: "è›‹ç™½è³ªæª¢é©—ã€‚" },
        { type: 'fill', pre: "åå¼è„‚è‚ªä¾†è‡ªæ¤ç‰©æ²¹çš„", post: "éç¨‹ã€‚", ans: "éƒ¨åˆ†æ°«åŒ–", opts: ["å®Œå…¨æ°«åŒ–", "é…¯åŒ–", "çš‚åŒ–"], exp: "é †å¼è½‰åå¼ã€‚" },
        { type: 'fill', pre: "é †ä¸çƒ¯äºŒé…¸åŠ ç†±å¤±æ°´ç”Ÿæˆ", post: "ã€‚", ans: "é…", opts: ["é…¯", "é†š", "é†‡"], exp: "é †ä¸çƒ¯äºŒé…¸é…ã€‚" },
        { type: 'fill', pre: "æ°´æ¥Šé…¸èˆ‡ç”²é†‡åæ‡‰ç”Ÿæˆ", post: "ã€‚", ans: "æ°´æ¥Šé…¸ç”²é…¯", opts: ["é˜¿æ–¯åŒ¹éˆ", "è‹¯ç”²é…¸", "ç”²é…¸"], exp: "å†¬é’æ²¹ã€‚" },
        { type: 'fill', pre: "å€åˆ†é†›é…®å¯ç”¨", post: "ã€‚", ans: "æ°§åŒ–åæ‡‰", opts: ["æº¶è§£åº¦", "é¡è‰²", "ç‹€æ…‹"], exp: "é†›æ˜“æ°§åŒ–ã€‚" },
        { type: 'fill', pre: "ç’°å·±çƒ¯å¯ä½¿æº´æ°´è¤ªè‰²ï¼Œè‹¯", post: "ã€‚", ans: "ä¸èƒ½", opts: ["å¯ä»¥", "éœ€ç…§å…‰", "éœ€åŠ ç†±"], exp: "è‹¯ç’°ç©©å®šã€‚" },
        { type: 'fill', pre: "ä¹™çƒ·è®Šæˆæ°¯ä¹™çƒ·éœ€", post: "æ¢ä»¶ã€‚", ans: "ç…§å…‰", opts: ["é»‘æš—", "åŠ ç†±", "åŠ å£“"], exp: "è‡ªç”±åŸºå–ä»£ã€‚" },
        { type: 'fill', pre: "ä¹™çƒ¯è®Šæˆä¹™çƒ·éœ€", post: "å‚¬åŒ–ã€‚", ans: "é³/é‰‘", opts: ["éµ", "éŠ…", "é…¸"], exp: "æ°«åŒ–åæ‡‰ã€‚" },
        { type: 'fill', pre: "é†‡é¡å¯èˆ‡", post: "åæ‡‰ç”¢ç”Ÿæ°«æ°£ã€‚", ans: "éˆ‰", opts: ["éŠ…", "éµ", "é‹…"], exp: "æ´»æ€§é‡‘å±¬ç½®æ›ã€‚" },
        { type: 'fill', pre: "è‹¯é…šæ°´æº¶æ¶²å‘ˆ", post: "æ€§ã€‚", ans: "å¼±é…¸", opts: ["ä¸­", "å¼±é¹¼", "å¼·é…¸"], exp: "çŸ³ç‚­é…¸ã€‚" },
        { type: 'fill', pre: "æª¢é©—è‹¯é…šç”¨", post: "ï¼Œå‘ˆç´«è‰²ã€‚", ans: "æ°¯åŒ–éµ", opts: ["æ–æ—", "å¤šå€«", "ç¢˜æ¶²"], exp: "é…šé¡é¡¯è‰²ã€‚" },
        { type: 'fill', pre: "ä¹™é…¸èˆ‡ç¢³é…¸éˆ‰åæ‡‰ç”¢ç”Ÿ", post: "ã€‚", ans: "CO2", opts: ["H2", "O2", "CO"], exp: "é…¸æ€§å¼·æ–¼ç¢³é…¸ã€‚" },
        { type: 'fill', pre: "è‹¯é…š", post: "èˆ‡ç¢³é…¸éˆ‰åæ‡‰ç”¢æ°£ã€‚", ans: "ä¸èƒ½", opts: ["å¯ä»¥", "åŠ‡çƒˆ", "ç·©æ…¢"], exp: "é…¸æ€§å¼±æ–¼ç¢³é…¸ã€‚" },
        { type: 'fill', pre: "ä¹™ç‚”é€šå…¥ç¡é…¸éŠ€æ°¨æº¶æ¶²ç”¢", post: "è‰²æ²‰æ¾±ã€‚", ans: "ç™½", opts: ["ç´…", "é»ƒ", "é»‘"], exp: "ä¹™ç‚”éŠ€ã€‚" },
        
        // --- æ–‡å­—é¸æ“‡é¡Œ (Text Choice) ---
        { type: 'text_choice', pre: "ä¹™ç‚”é€šå…¥æ°¯åŒ–äºéŠ…æ°¨æº¶æ¶²ç”¢è‰²æ²‰æ¾±ï¼Ÿ", a: "ç´…", o: ["ç™½", "é»ƒ", "é»‘"], exp: "ä¹™ç‚”äºéŠ…ã€‚" },
        { type: 'text_choice', pre: "PE æ˜¯ç”±ä¹™çƒ¯ç¶“ä»€éº¼åæ‡‰è£½æˆï¼Ÿ", a: "åŠ æˆèšåˆ", o: ["ç¸®åˆèšåˆ", "å–ä»£", "é–‹ç’°"], exp: "é›™éµæ‰“é–‹ã€‚" },
        { type: 'text_choice', pre: "ç‰¹å¤šé¾ (Dacron) æ˜¯å“ªç¨®èšåˆç‰©ï¼Ÿ", a: "èšé…¯", o: ["èšé†¯èƒº", "èšé†š", "èšçƒ¯"], exp: "å°è‹¯äºŒç”²é…¸+ä¹™äºŒé†‡ã€‚" },
        { type: 'text_choice', pre: "è€ç¶¸-66 æ˜¯å“ªç¨®èšåˆç‰©ï¼Ÿ", a: "èšé†¯èƒº", o: ["èšé…¯", "èšçƒ¯", "èšé†š"], exp: "å·±äºŒé…¸+å·±äºŒèƒºã€‚" },
        { type: 'text_choice', pre: "ç¾Šæ¯›çš„ä¸»è¦æˆåˆ†æ˜¯ï¼Ÿ", a: "è›‹ç™½è³ª", o: ["çº–ç¶­ç´ ", "æ¾±ç²‰", "èšé…¯"], exp: "å‹•ç‰©çº–ç¶­ã€‚" },
        { type: 'text_choice', pre: "æ£‰èŠ±çš„ä¸»è¦æˆåˆ†æ˜¯ï¼Ÿ", a: "çº–ç¶­ç´ ", o: ["è›‹ç™½è³ª", "æ¾±ç²‰", "èšé…¯"], exp: "æ¤ç‰©çº–ç¶­ã€‚" },
        { type: 'text_choice', pre: "äººé€ çµ² (Rayon) çš„æœ¬è³ªæ˜¯ï¼Ÿ", a: "çº–ç¶­ç´ ", o: ["è›‹ç™½è³ª", "çŸ³æ²¹", "æ¾±ç²‰"], exp: "å†ç”Ÿçº–ç¶­ç´ ã€‚" },
        { type: 'text_choice', pre: "ä¸‹åˆ—ä½•è€…è¦–ç‚ºç„¡æ©ŸåŒ–åˆç‰©ï¼Ÿ", a: "KCN", o: ["å°¿ç´ ", "ç”²çƒ·", "ä¹™é…¸"], exp: "æ°°åŒ–ç‰©ã€‚" },
        { type: 'text_choice', pre: "çƒ·é¡å®Œå…¨ç‡ƒç‡’ç”Ÿæˆï¼Ÿ", a: "CO2 + H2O", o: ["CO + H2O", "C + H2O", "H2 + CO2"], exp: "æ°§åŒ–åæ‡‰ã€‚" },
        { type: 'text_choice', pre: "åŒç¢³æ•¸ä¸‹ï¼Œç‡ƒç‡’ç†±æœ€é«˜çš„æ˜¯ï¼Ÿ", a: "çƒ·é¡", o: ["çƒ¯é¡", "ç‚”é¡", "é†‡é¡"], exp: "æ°«å«é‡æœ€é«˜ã€‚" },
        { type: 'text_choice', pre: "ç¢˜ä»¿åæ‡‰æª¢é©—ä»€éº¼çµæ§‹ï¼Ÿ", a: "ç”²åŸºé…®/ç”²åŸºé†‡", o: ["ä¹™åŸºé…®", "é†›åŸº", "ç¾§åŸº"], exp: "ç”Ÿæˆé»ƒè‰²æ²‰æ¾±ã€‚" },
        { type: 'text_choice', pre: "ä¹™é†‡èˆ‡æ¼‚ç™½ç²‰åŠ ç†±ç”¢ç”Ÿï¼Ÿ", a: "æ°¯ä»¿", o: ["å››æ°¯åŒ–ç¢³", "æ°¯ä¹™çƒ·", "ä¹™é…¸"], exp: "é¹µä»¿åæ‡‰ã€‚" },
        { type: 'text_choice', pre: "å®‰éä»–å‘½å«æœ‰ä»€éº¼å®˜èƒ½åŸºï¼Ÿ", a: "èƒºåŸº", o: ["é†¯èƒºåŸº", "ç¾§åŸº", "é…¯åŸº"], exp: "èƒºé¡æ¯’å“ã€‚" },
        { type: 'text_choice', pre: "ä¸‰èšæ°°èƒºå¯Œå«ä»€éº¼å…ƒç´ ï¼Ÿ", a: "æ°®", o: ["ç¢³", "æ°§", "æ°¯"], exp: "å‡é€ è›‹ç™½è³ªå«é‡ã€‚" },
        { type: 'text_choice', pre: "ç•Œé¢æ´»æ€§åŠ‘çš„çµæ§‹ç‰¹å¾µï¼Ÿ", a: "è¦ªæ°´+è¦ªæ²¹ç«¯", o: ["é…¸+é¹¼ç«¯", "æ°§+é‚„ç«¯", "æ­£+è² æ¥µ"], exp: "ä¹³åŒ–ä½œç”¨ã€‚" },
        // ==========================================
        // 4. ç›´è¦ºè¯æƒ³ç‰¹è¨“ (Reflex Associations)
        // ==========================================
        
        // --- çœ‹åˆ° [è©¦åŠ‘/ç¾è±¡] -> è¯æƒ³ [å®˜èƒ½åŸº/ç‰©è³ª] ---
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥æ°¯åŒ–éµ (FeCl3) å‘ˆç¾ç´«è‰²ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "é…šé¡ (Phenol)", opts: ["é†‡é¡", "é†›é¡", "é…¸é¡"], exp: "é€™æ˜¯é…šé¡çš„å°ˆå±¬æª¢é©—åæ‡‰ï¼Œå½¢æˆç´«è‰²çš„éŒ¯åˆç‰©ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥å¤šå€«è©¦åŠ‘ç”¢ç”ŸéŠ€é¡ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "é†›åŸº (-CHO)", opts: ["é…®åŸº", "ç¾§åŸº", "ç¾¥åŸº"], exp: "é†›åŸºå…·æœ‰é‚„åŸåŠ›ï¼Œèƒ½å°‡éŠ€é›¢å­é‚„åŸæˆé‡‘å±¬éŠ€ (æœ«ç«¯ç‚”ä¹Ÿå¯ä»¥ï¼Œä½†é«˜ä¸­ä¸»è¦è€ƒé†›)ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥æ–æ—è©¦åŠ‘ç”¢ç”Ÿç´…è‰²æ²‰æ¾±ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "é†›åŸº (-CHO)", opts: ["é…®åŸº", "é…¯åŸº", "é†šåŸº"], exp: "è„‚è‚ªé†›èƒ½é‚„åŸéŠ…é›¢å­ç”Ÿæˆæ°§åŒ–äºéŠ… ($Cu_2O$) ç´…è‰²æ²‰æ¾±ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥æº´æ°´ (CCl4æº¶æ¶²) è¤ªè‰²ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ä¸é£½å’Œçƒ´ (çƒ¯/ç‚”)", opts: ["è‹¯ç’°", "çƒ·çƒ´", "é†‡é¡"], exp: "æº´èˆ‡ç¢³ç¢³é›™éµæˆ–åƒéµç™¼ç”Ÿã€ŒåŠ æˆåæ‡‰ã€è€Œæ¶ˆè€—è¤ªè‰²ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥é‡‘å±¬éˆ‰ç”¢ç”Ÿæ°«æ°£ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "é†‡é¡ (-OH) æˆ– é…¸", opts: ["é†šé¡", "é†›é¡", "é…®é¡"], exp: "é†‡é¡çš„ç¾¥åŸºæ°«å…·æœ‰æ´»æ€§ï¼Œå¯è¢«éˆ‰ç½®æ› (é…¸ä¹Ÿå¯ä»¥ï¼Œä½†é†‡æ˜¯ç¶“å…¸è€ƒé»)ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥ I2 (ç¢˜æ¶²) å‘ˆç¾è—é»‘è‰²ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "æ¾±ç²‰", opts: ["çº–ç¶­ç´ ", "è‘¡è„ç³–", "è›‹ç™½è³ª"], exp: "é€™æ˜¯æ¾±ç²‰çš„ç‰¹å¾µåæ‡‰ï¼Œå¸¸ç”¨æ–¼ç”Ÿç‰©å¯¦é©—ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥æ¿ƒç¡é…¸è®Šé»ƒè‰² (é»ƒè›‹ç™½åæ‡‰)ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "å«è‹¯ç’°çš„è›‹ç™½è³ª", opts: ["è„‚è‚ª", "æ¾±ç²‰", "çº–ç¶­ç´ "], exp: "æ¿ƒç¡é…¸æœƒèˆ‡è›‹ç™½è³ªä¸­å¸¶æœ‰è‹¯ç’°çš„èƒºåŸºé…¸(å¦‚é…ªèƒºé…¸)åæ‡‰è®Šè‰²ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€ŒåŠ å…¥é›™ç¸®è„²è©¦åŠ‘å‘ˆç´«è‰²ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "è‚½éµ (è›‹ç™½è³ª)", opts: ["é†£é¡", "è„‚è³ª", "æ ¸é…¸"], exp: "é›™ç¸®è„²è©¦åŠ‘ ($Cu^{2+}$ åœ¨é¹¼æ€§ä¸­) æª¢é©—è‚½éµ (-CONH-)ã€‚" },
    
        // --- çœ‹åˆ° [ç‰©è³ªåç¨±] -> è¯æƒ³ [åŒ–å­¸åˆ†é¡/ç‰¹æ€§] ---
        { type: 'life', pre: "çœ‹åˆ°ã€Œè‘¡è„ç³–ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒæ˜¯", post: "ã€‚", ans: "å–®é†£ / é‚„åŸé†£", opts: ["é›™é†£", "éé‚„åŸé†£", "å¤šé†£"], exp: "è‘¡è„ç³–æ˜¯å¤šç¾¥åŸºé†›ï¼Œå±¬æ–¼å–®é†£ï¼Œä¸”å…·æœ‰é‚„åŸåŠ›ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œè”—ç³–ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒæ˜¯", post: "ã€‚", ans: "é›™é†£ / éé‚„åŸé†£", opts: ["å–®é†£", "é‚„åŸé†£", "å¤šé†£"], exp: "è”—ç³–ç”±è‘¡è„ç³–+æœç³–çµ„æˆï¼Œä½†çµæ§‹ä¸­æ²’æœ‰æ¸¸é›¢çš„é†›/é…®åŸºï¼Œæ•…ä¸å…·é‚„åŸåŠ›ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œçº–ç¶­ç´ ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒæ˜¯", post: "çš„èšåˆç‰©ã€‚", ans: "è‘¡è„ç³– (beta)", opts: ["æœç³–", "èƒºåŸºé…¸", "æ ¸è‹·é…¸"], exp: "çº–ç¶­ç´ æ˜¯ $\\beta$-è‘¡è„ç³–èšåˆè€Œæˆï¼Œäººé«”ç„¡æ³•æ¶ˆåŒ–ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œé…¶ (Enzyme)ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒçš„æˆåˆ†é€šå¸¸æ˜¯", post: "ã€‚", ans: "è›‹ç™½è³ª", opts: ["é†£é¡", "è„‚è³ª", "ç¶­ç”Ÿç´ "], exp: "çµ•å¤§å¤šæ•¸çš„é…µç´ éƒ½æ˜¯è›‹ç™½è³ª (æ¥µå°‘æ•¸æ˜¯ RNA)ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œè‚¥çš‚ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒæ€•", post: "ã€‚", ans: "é…¸ èˆ‡ ç¡¬æ°´", opts: ["é¹¼ èˆ‡ è»Ÿæ°´", "ç†±æ°´", "æœ‰æ©Ÿæº¶åŠ‘"], exp: "é…¸æœƒä½¿è‚¥çš‚è®Šå›è„‚è‚ªé…¸(æ²¹æ²¹çš„)ï¼Œç¡¬æ°´æœƒç”¢ç”Ÿçš‚å¢(æ²‰æ¾±)ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œé˜¿æ–¯åŒ¹éˆã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒå…·æœ‰", post: "çµæ§‹ã€‚", ans: "ç¾§åŸº èˆ‡ é…¯åŸº", opts: ["èƒºåŸº èˆ‡ é…®åŸº", "é†›åŸº èˆ‡ é†šåŸº", "ç£ºé…¸åŸº"], exp: "ä¹™é†¯æ°´æ¥Šé…¸ = æ°´æ¥Šé…¸(æœ‰ç¾§åŸº) + ä¹™é…(å½¢æˆé…¯åŸº)ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œæ²¹è„‚ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒæ˜¯", post: "ã€‚", ans: "é…¯é¡ (ä¸‰é…¸ç”˜æ²¹é…¯)", opts: ["é…¸é¡", "é†‡é¡", "çƒ´é¡"], exp: "æ²¹è„‚ = ç”˜æ²¹ + 3åˆ†å­è„‚è‚ªé…¸ (é…¯åŒ–è€Œæˆ)ã€‚" },
        { type: 'life', pre: "çœ‹åˆ°ã€Œè€ç¶¸ (Nylon)ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°å®ƒå«æœ‰", post: "éµã€‚", ans: "é†¯èƒºéµ (è‚½éµ)", opts: ["é…¯éµ", "é†šéµ", "é›™ç¡«éµ"], exp: "è€ç¶¸æ˜¯èšé†¯èƒºï¼Œçµæ§‹é¡ä¼¼è›‹ç™½è³ªã€‚" },
        
        // --- çœ‹åˆ° [åæ‡‰æ¢ä»¶] -> è¯æƒ³ [åæ‡‰é¡å‹] ---
        { type: 'advanced', pre: "çœ‹åˆ°ã€Œæ¿ƒç¡«é…¸ + åŠ ç†±ã€ï¼Œé€šå¸¸æ˜¯åœ¨é€²è¡Œ", post: "ã€‚", ans: "è„«æ°´ (å¦‚é…¯åŒ–/æ¶ˆå»)", opts: ["æ°´è§£", "æ°§åŒ–", "é‚„åŸ"], exp: "æ¿ƒç¡«é…¸æ˜¯å¼·è„«æ°´åŠ‘ã€‚é†‡+é…¸$\to$é…¯ï¼›é†‡$\to$çƒ¯/é†šï¼Œéƒ½éœ€è¦å®ƒã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€Œç…§å…‰ (UV)ã€ï¼Œé€šå¸¸æ˜¯çƒ·é¡çš„", post: "åæ‡‰ã€‚", ans: "é¹µåŒ– (å–ä»£)", opts: ["åŠ æˆ", "èšåˆ", "ç‡ƒç‡’"], exp: "çƒ·é¡å¾ˆå®‰å®šï¼Œåªæœ‰åœ¨ç…§å…‰æˆ–é«˜æº«ä¸‹æ‰æœƒèˆ‡é¹µç´ ç™¼ç”Ÿè‡ªç”±åŸºå–ä»£ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€Œé³ (Ni)ã€é‰‘ (Pt) å‚¬åŒ–ã€ï¼Œé€šå¸¸æ˜¯çƒ¯/ç‚”çš„", post: "åæ‡‰ã€‚", ans: "æ°«åŒ– (åŠ æˆ)", opts: ["æ°§åŒ–", "è„«æ°´", "æ°´è§£"], exp: "ä¸é£½å’Œçƒ´åŠ æ°«è®Šæˆé£½å’Œçƒ´ (ä¾‹å¦‚æ¤ç‰©æ²¹æ°«åŒ–è®Šäººé€ å¥¶æ²¹)ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€Œæ°«æ°§åŒ–éˆ‰ (NaOH) æ°´æº¶æ¶² + å…±ç†±ã€ï¼Œé€šå¸¸æ˜¯", post: "ã€‚", ans: "çš‚åŒ– (æˆ–é¹µçƒ·æ°´è§£)", opts: ["é…¯åŒ–", "è„«æ°´", "èšåˆ"], exp: "é…¯é¡åœ¨é¹¼æ€§ä¸‹æ°´è§£ç¨±ç‚ºçš‚åŒ–ï¼›é¹µçƒ·åœ¨é¹¼æ€§ä¸‹æ°´è§£æˆé†‡ã€‚" },
        { type: 'advanced', pre: "çœ‹åˆ°ã€Œæ°«æ°§åŒ–éˆ‰ (NaOH) é…’ç²¾æº¶æ¶² + å…±ç†±ã€ï¼Œé€šå¸¸æ˜¯é¹µçƒ·çš„", post: "åæ‡‰ã€‚", ans: "æ¶ˆå» (ç”¢ç”Ÿçƒ¯)", opts: ["å–ä»£ (ç”¢ç”Ÿé†‡)", "åŠ æˆ", "é…¯åŒ–"], exp: "é€™æ˜¯ä¸€å€‹è¶…ç´šé™·é˜±ï¼NaOH(aq)æ˜¯å–ä»£æˆé†‡ï¼›NaOH(alc)æ˜¯æ¶ˆå»æˆçƒ¯ã€‚" },
    
        // --- çœ‹åˆ° [ç‰¹æ®Šæ€§è³ª] -> è¯æƒ³ [ç‰©è³ª] ---
        { type: 'functional', pre: "çœ‹åˆ°ã€Œæœ‰æ°´æœé¦™å‘³ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "é…¯é¡", opts: ["é†šé¡", "é…®é¡", "é†›é¡"], exp: "ä½ç´šé…¯é¡é€šå¸¸å…·æœ‰èŠ±æœé¦™ï¼Œç”¨æ–¼é¦™æ–™ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œæœ‰é­šè…¥å‘³ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "èƒºé¡", opts: ["é†¯èƒº", "é…¸é¡", "é†‡é¡"], exp: "èƒºé¡ (å¦‚ç”²èƒº) é€šå¸¸æœ‰é›£èçš„é­šè…¥å‘³ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œå¤è€çš„éº»é†‰åŠ‘ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ä¹™é†š æˆ– æ°¯ä»¿", opts: ["ä¹™é†‡", "ä¹™é…¸", "ä¹™ç‚”"], exp: "ä¹™é†šå’Œæ°¯ä»¿æ—©æœŸéƒ½ç•¶ä½œéº»é†‰åŠ‘ï¼Œä½†å‰¯ä½œç”¨å¤§ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œå†¬å¤©æœƒçµå†°çš„é…¸ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ä¹™é…¸ (å†°é†‹é…¸)", opts: ["ç”²é…¸", "è‰é…¸", "é¹½é…¸"], exp: "ç´”ä¹™é…¸ç†”é»ç´„ 16.7åº¦ï¼Œå†¬å¤©æ˜“çµå‡ï¼Œæ•…ç¨±å†°é†‹é…¸ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œå»å…‰æ°´ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ä¸™é…®", opts: ["ä¹™é…¸ä¹™é…¯", "ä¹™é†š", "ç”²é†‡"], exp: "ä¸™é…®æ˜¯æœ‰æ©Ÿæº¶åŠ‘ï¼Œèƒ½æº¶è§£æŒ‡ç”²æ²¹ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œç¦é¦¬æ—ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ç”²é†›æ°´æº¶æ¶²", opts: ["ç”²é†‡", "ç”²é…¸", "ä¹™é†›"], exp: "37% ç”²é†›æ°´æº¶æ¶²ï¼Œé˜²è…ç”¨ã€‚" },
        { type: 'functional', pre: "çœ‹åˆ°ã€Œé›»çŸ³æ°£ã€ï¼Œè¦é¦¬ä¸Šè¯æƒ³åˆ°", post: "ã€‚", ans: "ä¹™ç‚”", opts: ["ä¹™çƒ¯", "ç”²çƒ·", "ä¸™çƒ·"], exp: "é›»çŸ³åŠ æ°´ç”¢ç”Ÿä¹™ç‚”ï¼Œç‡ƒç‡’æº«åº¦æ¥µé«˜ã€‚" },
    ]
};

    // ================= 2. é‚è¼¯è™•ç† =================
    
    let selectedChapters = new Set();
    let currentList = [];
    let currentIndex = 0;
    let score = 0;
    let mistakes = [];
    
    // åˆå§‹åŒ–çµ±è¨ˆ
    let totalItems = 0;
    for (const cat in chemData) {
        totalItems += chemData[cat].length;
    }
    // æª¢æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œé¿å…å ±éŒ¯
    const totalEl = document.getElementById('total-db-items');
    if (totalEl) totalEl.innerText = totalItems;
    
    // åŸ·è¡Œé¸å–®ç¹ªè£½
    renderMenu();
    
    // è§£æ±ºç™½ç•«é¢å•é¡Œï¼šå¼·åˆ¶åŸ·è¡Œä¸€æ¬¡
    window.onload = function() {
        renderMenu();
    }

    function renderMenu() {
        const grid = document.getElementById('chapter-list');
        if (!grid) return;
        
        grid.innerHTML = "";
        
        Object.keys(chemData).forEach(cat => {
            const count = chemData[cat].length;
            const card = document.createElement('div');
            card.className = 'chapter-card';
            card.onclick = () => toggleSelection(card, cat);
            card.innerHTML = `
                <div class="ch-title">${cat}</div>
                <div class="ch-count">${count} é¡Œ</div>
            `;
            grid.appendChild(card);
        });
    }

    function toggleSelection(card, cat) {
        if (selectedChapters.has(cat)) {
            selectedChapters.delete(cat);
            card.classList.remove('selected');
        } else {
            selectedChapters.add(cat);
            card.classList.add('selected');
        }
        updateStats();
    }

    function updateStats() {
        document.getElementById('selected-count').innerText = selectedChapters.size;
        let currentTotal = 0;
        selectedChapters.forEach(cat => currentTotal += chemData[cat].length);
        document.getElementById('total-selected-items').innerText = currentTotal;

        const btnQuiz = document.getElementById('btn-start-quiz');
        if (btnQuiz) btnQuiz.disabled = (selectedChapters.size === 0);
    }

    function switchView(view) {
        document.querySelectorAll('.view-section').forEach(sec => sec.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        
        if (view === 'note') {
            document.getElementById('view-note').classList.add('active');
            document.querySelectorAll('.tab-btn')[0].classList.add('active');
        } else {
            document.getElementById('view-quiz').classList.add('active');
            document.querySelectorAll('.tab-btn')[1].classList.add('active');
            // åˆ‡æ›åˆ°æ¸¬é©—æ™‚ï¼Œé‡ç½®é¸å–®é¡¯ç¤ºï¼Œå¼·åˆ¶é‡æ–°ç¹ªè£½ä»¥é˜²è¬ä¸€
            document.getElementById('quiz-menu').style.display = 'block';
            document.getElementById('quiz-play').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'none';
            renderMenu(); 
        }
        window.scrollTo(0, 0);
    }

    // ================= æ¸¬é©—é‚è¼¯ =================

    function prepareQuiz() {
        let total = 0;
        selectedChapters.forEach(cat => total += chemData[cat].length);
        
        document.getElementById('modal-total-items').innerText = total;
        const input = document.getElementById('quiz-num-input');
        input.max = total;
        input.value = Math.min(total, 20); 
        document.getElementById('quiz-settings-modal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('quiz-settings-modal').style.display = 'none';
    }

    function confirmStartQuiz() {
        let allItems = [];
        selectedChapters.forEach(cat => {
            allItems = allItems.concat(chemData[cat]);
        });

        let count = parseInt(document.getElementById('quiz-num-input').value);
        if (isNaN(count) || count < 1) count = 5;
        if (count > allItems.length) count = allItems.length;

        shuffle(allItems);
        currentList = allItems.slice(0, count);

        closeModal();
        startQuizFlow();
    }

    function startQuizFlow() {
        currentIndex = 0;
        score = 0;
        mistakes = [];
        document.getElementById('quiz-menu').style.display = 'none';
        document.getElementById('quiz-play').style.display = 'block';
        loadQuestion();
    }

    function loadQuestion() {
        const q = currentQuestions[qIndex];
        const correctAns = q.ans || q.a; // <--- åŠ å…¥é€™è¡Œè½‰æ¥é ­
        const explanation = q.exp;
        feedbackModal.classList.remove('show');
        qContainer.innerHTML = '';
        optsContainer.innerHTML = '';

        // --- 1. è¬èƒ½è½‰æ¥é ­ (Data Adapter) ---
        // è‡ªå‹•åˆ¤æ–·æ˜¯å“ªç¨®æ ¼å¼ï¼Œçµ±ä¸€è½‰æˆç¨‹å¼çœ‹å¾—æ‡‚çš„è®Šæ•¸
        const correctAnswer = q.ans || q.a; // æœ‰ ans ç”¨ ansï¼Œæ²’æœ‰å°±ç”¨ a
        const optionsList = q.opts || q.o;   // æœ‰ opts ç”¨ optsï¼Œæ²’æœ‰å°±ç”¨ o
        
        // --- 2. åˆ¤æ–·é¡Œå‹ä¸¦ç”Ÿæˆç•«é¢ ---
        
        // æƒ…æ³ A: å¡«ç©ºé¡Œ (æœ‰ pre å’Œ post)
        if (q.type === 'fill') {
            const preSpan = document.createElement('span');
            preSpan.innerHTML = q.pre; // ä½¿ç”¨ innerHTML æ”¯æ´åŒ–å­¸å¼
            
            const slot = createSlot(correctAnswer); // å‘¼å«ä¸‹æ–¹å»ºç«‹ç©ºæ ¼çš„å‡½å¼

            const postSpan = document.createElement('span');
            postSpan.innerHTML = q.post;

            qContainer.append(preSpan, slot, postSpan);
        } 
        // æƒ…æ³ B: ä¸€èˆ¬å•ç­”é¡Œ (æœ‰ q å’Œ svg)
        else {
            // å¦‚æœæœ‰åœ–ç‰‡ (svg)ï¼Œå…ˆé¡¯ç¤ºåœ–ç‰‡
            if (q.svg) {
                const imgDiv = document.createElement('div');
                imgDiv.className = 'structure-box';
                imgDiv.innerHTML = q.svg;
                imgDiv.style.display = 'flex';
                imgDiv.style.width = '100%';
                imgDiv.style.marginBottom = '15px';
                qContainer.appendChild(imgDiv);
            }

            // é¡¯ç¤ºé¡Œç›®æ–‡å­—
            const questionDiv = document.createElement('div');
            questionDiv.innerHTML = q.q;
            questionDiv.style.width = '100%';
            questionDiv.style.marginBottom = '15px';
            qContainer.appendChild(questionDiv);

            // é¡¯ç¤ºç©ºæ ¼ (è®“ç©å®¶æŠŠç­”æ¡ˆæ‹–é€²ä¾†)
            const slot = createSlot(correctAnswer);
            qContainer.appendChild(slot);
        }

        // --- 3. ç”Ÿæˆé¸é … (éš¨æ©Ÿæ’åˆ—) ---
        let finalOptions = [correctAnswer, ...optionsList].sort(() => 0.5 - Math.random());
        
        finalOptions.forEach(optText => {
            const btn = document.createElement('div');
            btn.className = 'draggable-item';
            btn.innerHTML = optText; // æ”¯æ´åŒ–å­¸å¼é¡¯ç¤º
            btn.draggable = true;
            
            // æ‹–æ›³é–‹å§‹
            btn.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text', optText);
                btn.classList.add('dragging');
            });
            
            btn.addEventListener('dragend', () => btn.classList.remove('dragging'));

            // é»æ“Šäº‹ä»¶ (æ‰‹æ©Ÿå‹å–„)
            btn.addEventListener('click', () => submitAnswer(optText, btn));

            optsContainer.appendChild(btn);
        });

        updateStatus();
    }

    // è¼”åŠ©å‡½å¼ï¼šå»ºç«‹ç©ºæ ¼
    function createSlot(correctAnswer) {
        const slot = document.createElement('div');
        slot.className = 'drop-slot';
        slot.textContent = "æ‹–æ›³æˆ–é»æ“Š";
        slot.dataset.ans = correctAnswer;
        
        // ç¶å®š Drop äº‹ä»¶
        slot.addEventListener('dragover', (e) => {
            e.preventDefault();
            slot.classList.add('drag-over');
        });
        slot.addEventListener('dragleave', () => slot.classList.remove('drag-over'));
        slot.addEventListener('drop', handleDrop);
        
        return slot;
    }

        const pre = currentList[currentIndex];
        
        // UI æ›´æ–°
        document.getElementById('pre-curr').innerText = currentIndex + 1;
        document.getElementById('pre-total').innerText = currentList.length;
        document.getElementById('score').innerText = Math.round(score);
        document.getElementById('progress-fill').style.width = `${(currentIndex / currentList.length) * 100}%`;
        
        document.getElementById('feedback').style.display = 'none';
        
        const questionArea = document.getElementById('question-area');
        const answerArea = document.getElementById('answer-area');
        questionArea.innerHTML = '';
        answerArea.innerHTML = '';

        // === åˆ¤æ–·é¡Œå‹ä¸¦æ¸²æŸ“ ===
        if (pre.type === 'fill') {
            // --- å¡«ç©ºé¡Œ ---
            const qCard = document.createElement('div');
            qCard.className = 'quiz-card';
            qCard.innerHTML = `
                <div style="font-size:1.3rem; line-height:2;">
                    ${pre.pre} <div class="drop-slot" id="slot">?</div> ${pre.post ? pre.post : ''}
                </div>`;
            questionArea.appendChild(qCard);

            answerArea.className = 'drag-pool';
            const opts = [pre.ans, ...pre.opts].sort(() => 0.5 - Math.random());
            opts.forEach(opt => {
                const btn = document.createElement('div');
                btn.className = 'drag-item';
                btn.innerText = opt;
                btn.onclick = () => checkFillAnswer(opt, pre);
                answerArea.appendChild(btn);
            });

        } else {
            // --- é¸æ“‡é¡Œ ---
            const qCard = document.createElement('div');
            qCard.className = 'quiz-card';
            if (pre.type && pre.type.includes('image')) {
                qCard.innerHTML = `${pre.svg}<div class="pre-text" style="font-size:1.2rem; margin-top:15px;">${pre.pre}</div>`;
            } else {
                qCard.innerHTML = `<div class="pre-text">${pre.pre}</div>`;
            }
            questionArea.appendChild(qCard);

            answerArea.className = 'options-grid';
            const uniqueOpts = new Set([...pre.o, pre.a]);
            const opts = Array.from(uniqueOpts).sort(() => 0.5 - Math.random());
            opts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt;
                btn.onclick = () => checkChoiceAnswer(btn, opt, pre);
                answerArea.appendChild(btn);
            });
        }
    }

    // --- æª¢æŸ¥ç­”æ¡ˆ ---

    function checkChoiceAnswer(btn, userAns, qData) {
        const btns = document.querySelectorAll('.opt-btn');
        btns.forEach(b => b.disabled = true);

        if (userAns === correctAns) { 
            btn.classList.add('correct');
            score += 100 / currentList.length;
            showFeedback(true, qData.exp);
        } else {
            btn.classList.add('wrong');
            btns.forEach(b => { if(b.innerText === qData.a) b.classList.add('correct'); });
            showFeedback(false, `æ­£è§£æ˜¯ï¼š${qData.a}ã€‚<br>${qData.exp}`);
            mistakes.push(qData);
        }
    }

    function checkFillAnswer(userAns, qData) {
        const slot = document.getElementById('slot');
        if (slot.classList.contains('filled')) return; 

        slot.innerText = userAns;
        slot.classList.add('filled');
        
        const items = document.querySelectorAll('.drag-item');
        items.forEach(i => i.style.pointerEvents = 'none');

        if (userAns === qData.ans) {
            slot.style.borderBottomColor = 'var(--success)';
            slot.style.color = 'var(--success)';
            score += 100 / currentList.length;
            showFeedback(true, qData.exp);
        } else {
            slot.classList.add('error');
            showFeedback(false, `éŒ¯å›‰ï¼æ­£è§£æ˜¯ï¼š${qData.ans}ã€‚<br>${qData.exp}`);
            mistakes.push(qData);
        }
    }

    function showFeedback(isCorrect, text) {
        const fb = document.getElementById('feedback');
        const fbText = document.getElementById('feedback-text');
        fb.style.display = 'block';
        fbText.innerHTML = isCorrect ? `âœ… ç­”å°äº†ï¼<br><small>${text}</small>` : `âŒ ç­”éŒ¯äº†...<br><small>${text}</small>`;
    }

    function nextQuestion() {
        currentIndex++;
        loadQuestion();
    }

    // ================= çµæœèˆ‡å°èˆª =================

    function showResult() {
        document.getElementById('quiz-play').style.display = 'none';
        document.getElementById('quiz-result').style.display = 'block';
        
        document.getElementById('final-score').innerText = Math.round(score);
        const section = document.getElementById('mistake-section');
        const list = document.getElementById('mistake-list');
        list.innerHTML = "";

        if (mistakes.length > 0) {
            section.style.display = 'block';
            mistakes.forEach(m => {
                let displayQ = '', displayA = '';
                if (m.type === 'fill') {
                    displayQ = `${m.pre} ____ ${m.post ? m.post : ''}`; displayA = m.ans;
                } else {
                    displayQ = (m.type && m.type.includes('image')) ? 'çœ‹åœ–é¡Œ' : m.pre; displayA = m.a;
                }

                list.innerHTML += `
                    <div class="chem-card-mini">
                        <div style="font-weight:bold; color:#333;">${displayQ}</div>
                        <div style="color:var(--success); margin-top:5px;">æ­£è§£ï¼š${displayA}</div>
                        <div style="font-size:0.9rem; color:#666; margin-top:5px;">${m.exp}</div>
                    </div>
                `;
            });
        } else {
            section.style.display = 'none';
        }
    }

    function retryQuiz() {
        shuffle(currentList); 
        startQuizFlow();
    }

    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // åˆå§‹åŒ–
    renderMenu();

</script>
</body>
</html>
